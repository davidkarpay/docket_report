!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.moment=t()}(this,function(){"use strict";function t(){return ae.apply(null,arguments)}function vo(n){ae=n}function pt(n){return n instanceof Array||"[object Array]"===Object.prototype.toString.call(n)}function ai(n){return n instanceof Date||"[object Date]"===Object.prototype.toString.call(n)}function bu(n,t){for(var r=[],i=0;i<n.length;++i)r.push(t(n[i],i));return r}function w(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function wt(n,t){for(var i in t)w(t,i)&&(n[i]=t[i]);return w(t,"toString")&&(n.toString=t.toString),w(t,"valueOf")&&(n.valueOf=t.valueOf),n}function it(n,t,i,r){return pf(n,t,i,r,!0).utc()}function yo(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function f(n){return null==n._pf&&(n._pf=yo()),n._pf}function sr(n){if(null==n._isValid){var t=f(n),i=ve.call(t.parsedDateParts,function(n){return null!=n});n._isValid=!isNaN(n._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&i);n._strict&&(n._isValid=n._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return n._isValid}function vi(n){var t=it(NaN);return null!=n?wt(f(t),n):f(t).userInvalidated=!0,t}function p(n){return void 0===n}function hr(n,t){var u,i,r;if(p(t._isAMomentObject)||(n._isAMomentObject=t._isAMomentObject),p(t._i)||(n._i=t._i),p(t._f)||(n._f=t._f),p(t._l)||(n._l=t._l),p(t._strict)||(n._strict=t._strict),p(t._tzm)||(n._tzm=t._tzm),p(t._isUTC)||(n._isUTC=t._isUTC),p(t._offset)||(n._offset=t._offset),p(t._pf)||(n._pf=f(t)),p(t._locale)||(n._locale=t._locale),fu.length>0)for(u in fu)i=fu[u],r=t[i],p(r)||(n[i]=r);return n}function ei(n){hr(this,n);this._d=new Date(null!=n._d?n._d.getTime():NaN);eu===!1&&(eu=!0,t.updateOffset(this),eu=!1)}function st(n){return n instanceof ei||null!=n&&null!=n._isAMomentObject}function b(n){return 0>n?Math.ceil(n):Math.floor(n)}function e(n){var t=+n,i=0;return 0!==t&&isFinite(t)&&(i=b(t)),i}function ku(n,t,i){for(var f=Math.min(n.length,t.length),o=Math.abs(n.length-t.length),u=0,r=0;f>r;r++)(i&&n[r]!==t[r]||!i&&e(n[r])!==e(t[r]))&&u++;return u+o}function du(n){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+n)}function d(n,i){var r=!0;return wt(function(){return null!=t.deprecationHandler&&t.deprecationHandler(null,n),r&&(du(n+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),r=!1),i.apply(this,arguments)},i)}function cr(n,i){null!=t.deprecationHandler&&t.deprecationHandler(n,i);ye[n]||(du(i),ye[n]=!0)}function ht(n){return n instanceof Function||"[object Function]"===Object.prototype.toString.call(n)}function gu(n){return"[object Object]"===Object.prototype.toString.call(n)}function po(n){var t;for(var i in n)t=n[i],ht(t)?this[i]=t:this["_"+i]=t;this._config=n;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function lr(n,t){var i,r=wt({},n);for(i in t)w(t,i)&&(gu(n[i])&&gu(t[i])?(r[i]={},wt(r[i],n[i]),wt(r[i],t[i])):null!=t[i]?r[i]=t[i]:delete r[i]);return r}function ar(n){null!=n&&this.set(n)}function nf(n){return n?n.toLowerCase().replace("_","-"):n}function wo(n){for(var i,t,f,r,u=0;u<n.length;){for(r=nf(n[u]).split("-"),i=r.length,t=nf(n[u+1]),t=t?t.split("-"):null;i>0;){if(f=tf(r.slice(0,i).join("-")))return f;if(t&&t.length>=i&&ku(r,t,!0)>=i-1)break;i--}u++}return null}function tf(n){var t=null;if(!l[n]&&"undefined"!=typeof module&&module&&module.exports)try{t=nr._abbr;require("./locale/"+n);ti(t)}catch(i){}return l[n]}function ti(n,t){var i;return n&&(i=p(t)?ct(n):rf(n,t),i&&(nr=i)),nr._abbr}function rf(n,t){return null!==t?(t.abbr=n,null!=l[n]?(cr("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale"),t=lr(l[n]._config,t)):null!=t.parentLocale&&(null!=l[t.parentLocale]?t=lr(l[t.parentLocale]._config,t):cr("parentLocaleUndefined","specified parentLocale is not defined yet")),l[n]=new ar(t),ti(n),l[n]):(delete l[n],null)}function bo(n,t){if(null!=t){var i;null!=l[n]&&(t=lr(l[n]._config,t));i=new ar(t);i.parentLocale=l[n];l[n]=i;ti(n)}else null!=l[n]&&(null!=l[n].parentLocale?l[n]=l[n].parentLocale:null!=l[n]&&delete l[n]);return l[n]}function ct(n){var t;if(n&&n._locale&&n._locale._abbr&&(n=n._locale._abbr),!n)return nr;if(!pt(n)){if(t=tf(n))return t;n=[n]}return wo(n)}function ko(){return pe(l)}function y(n,t){var i=n.toLowerCase();ci[i]=ci[i+"s"]=ci[t]=n}function g(n){if("string"==typeof n)return ci[n]||ci[n.toLowerCase()]}function uf(n){var i,t,r={};for(t in n)w(n,t)&&(i=g(t),i&&(r[i]=n[t]));return r}function ii(n,i){return function(r){return null!=r?(ff(this,n,r),t.updateOffset(this,i),this):yi(this,n)}}function yi(n,t){return n.isValid()?n._d["get"+(n._isUTC?"UTC":"")+t]():NaN}function ff(n,t,i){n.isValid()&&n._d["set"+(n._isUTC?"UTC":"")+t](i)}function ef(n,t){var i;if("object"==typeof n)for(i in n)this.set(i,n[i]);else if(n=g(n),ht(this[n]))return this[n](t);return this}function ut(n,t,i){var r=""+Math.abs(n),u=t-r.length,f=n>=0;return(f?i?"+":"":"-")+Math.pow(10,Math.max(0,u)).toString().substr(1)+r}function r(n,t,i,r){var u=r;"string"==typeof r&&(u=function(){return this[r]()});n&&(ui[n]=u);t&&(ui[t[0]]=function(){return ut(u.apply(this,arguments),t[1],t[2])});i&&(ui[i]=function(){return this.localeData().ordinal(u.apply(this,arguments),n)})}function go(n){return n.match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"")}function ns(n){for(var t=n.match(we),i=0,r=t.length;r>i;i++)t[i]=ui[t[i]]?ui[t[i]]:go(t[i]);return function(i){for(var f="",u=0;r>u;u++)f+=t[u]instanceof Function?t[u].call(i,n):t[u];return f}}function vr(n,t){return n.isValid()?(t=of(t,n.localeData()),ou[t]=ou[t]||ns(t),ou[t](n)):n.localeData().invalidDate()}function of(n,t){function r(n){return t.longDateFormat(n)||n}var i=5;for(tr.lastIndex=0;i>=0&&tr.test(n);)n=n.replace(tr,r),tr.lastIndex=0,i-=1;return n}function i(n,t,i){cu[n]=ht(t)?t:function(n){return n&&i?i:t}}function ts(n,t){return w(cu,n)?cu[n](t._strict,t._locale):new RegExp(is(n))}function is(n){return bt(n.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(n,t,i,r,u){return t||i||r||u}))}function bt(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function s(n,t){var i,r=t;for("string"==typeof n&&(n=[n]),"number"==typeof t&&(r=function(n,i){i[t]=e(n)}),i=0;i<n.length;i++)lu[n[i]]=r}function oi(n,t){s(n,function(n,i,r,u){r._w=r._w||{};t(n,r._w,r,u)})}function rs(n,t,i){null!=t&&w(lu,n)&&lu[n](t,i._a,i,n)}function yr(n,t){return new Date(Date.UTC(n,t+1,0)).getUTCDate()}function us(n,t){return pt(this._months)?this._months[n.month()]:this._months[no.test(t)?"format":"standalone"][n.month()]}function fs(n,t){return pt(this._monthsShort)?this._monthsShort[n.month()]:this._monthsShort[no.test(t)?"format":"standalone"][n.month()]}function es(n,t,i){var u,r,e,f=n.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],u=0;12>u;++u)e=it([2e3,u]),this._shortMonthsParse[u]=this.monthsShort(e,"").toLocaleLowerCase(),this._longMonthsParse[u]=this.months(e,"").toLocaleLowerCase();return i?"MMM"===t?(r=a.call(this._shortMonthsParse,f),-1!==r?r:null):(r=a.call(this._longMonthsParse,f),-1!==r?r:null):"MMM"===t?(r=a.call(this._shortMonthsParse,f),-1!==r?r:(r=a.call(this._longMonthsParse,f),-1!==r?r:null)):(r=a.call(this._longMonthsParse,f),-1!==r?r:(r=a.call(this._shortMonthsParse,f),-1!==r?r:null))}function os(n,t,i){var r,u,f;if(this._monthsParseExact)return es.call(this,n,t,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;12>r;r++)if((u=it([2e3,r]),i&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(u,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(u,"").replace(".","")+"$","i")),i||this._monthsParse[r]||(f="^"+this.months(u,"")+"|^"+this.monthsShort(u,""),this._monthsParse[r]=new RegExp(f.replace(".",""),"i")),i&&"MMMM"===t&&this._longMonthsParse[r].test(n))||i&&"MMM"===t&&this._shortMonthsParse[r].test(n)||!i&&this._monthsParse[r].test(n))return r}function sf(n,t){var i;if(!n.isValid())return n;if("string"==typeof t)if(/^\d+$/.test(t))t=e(t);else if(t=n.localeData().monthsParse(t),"number"!=typeof t)return n;return i=Math.min(n.date(),yr(n.year(),t)),n._d["set"+(n._isUTC?"UTC":"")+"Month"](t,i),n}function hf(n){return null!=n?(sf(this,n),t.updateOffset(this,!0),this):yi(this,"Month")}function ss(){return yr(this.year(),this.month())}function hs(n){return this._monthsParseExact?(w(this,"_monthsRegex")||cf.call(this),n?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&n?this._monthsShortStrictRegex:this._monthsShortRegex}function cs(n){return this._monthsParseExact?(w(this,"_monthsRegex")||cf.call(this),n?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&n?this._monthsStrictRegex:this._monthsRegex}function cf(){function f(n,t){return t.length-n.length}for(var i,r=[],u=[],t=[],n=0;12>n;n++)i=it([2e3,n]),r.push(this.monthsShort(i,"")),u.push(this.months(i,"")),t.push(this.months(i,"")),t.push(this.monthsShort(i,""));for(r.sort(f),u.sort(f),t.sort(f),n=0;12>n;n++)r[n]=bt(r[n]),u[n]=bt(u[n]),t[n]=bt(t[n]);this._monthsRegex=new RegExp("^("+t.join("|")+")","i");this._monthsShortRegex=this._monthsRegex;this._monthsStrictRegex=new RegExp("^("+u.join("|")+")","i");this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function pr(n){var i,t=n._a;return t&&-2===f(n).overflow&&(i=t[ft]<0||t[ft]>11?ft:t[rt]<1||t[rt]>yr(t[nt],t[ft])?rt:t[v]<0||t[v]>24||24===t[v]&&(0!==t[tt]||0!==t[et]||0!==t[ni])?v:t[tt]<0||t[tt]>59?tt:t[et]<0||t[et]>59?et:t[ni]<0||t[ni]>999?ni:-1,f(n)._overflowDayOfYear&&(nt>i||i>rt)&&(i=rt),f(n)._overflowWeeks&&-1===i&&(i=yv),f(n)._overflowWeekday&&-1===i&&(i=pv),f(n).overflow=i),n}function lf(n){var t,r,o,e,u,s,h=n._i,i=gv.exec(h)||ny.exec(h);if(i){for(f(n).iso=!0,t=0,r=or.length;r>t;t++)if(or[t][1].exec(i[1])){e=or[t][0];o=or[t][2]!==!1;break}if(null==e)return void(n._isValid=!1);if(i[3]){for(t=0,r=au.length;r>t;t++)if(au[t][1].exec(i[3])){u=(i[2]||" ")+au[t][0];break}if(null==u)return void(n._isValid=!1)}if(!o&&null!=u)return void(n._isValid=!1);if(i[4]){if(!ty.exec(i[4]))return void(n._isValid=!1);s="Z"}n._f=e+(u||"")+(s||"");br(n)}else n._isValid=!1}function ls(n){var i=iy.exec(n._i);return null!==i?void(n._d=new Date(+i[1])):(lf(n),void(n._isValid===!1&&(delete n._isValid,t.createFromInputFallback(n))))}function as(n,t,i,r,u,f,e){var o=new Date(n,t,i,r,u,f,e);return 100>n&&n>=0&&isFinite(o.getFullYear())&&o.setFullYear(n),o}function pi(n){var t=new Date(Date.UTC.apply(null,arguments));return 100>n&&n>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(n),t}function si(n){return af(n)?366:365}function af(n){return n%4==0&&n%100!=0||n%400==0}function vs(){return af(this.year())}function wi(n,t,i){var r=7+t-i,u=(7+pi(n,0,r).getUTCDay()-t)%7;return-u+r-1}function vf(n,t,i,r,u){var f,o,s=(7+i-r)%7,h=wi(n,r,u),e=1+7*(t-1)+s+h;return 0>=e?(f=n-1,o=si(f)+e):e>si(n)?(f=n+1,o=e-si(n)):(f=n,o=e),{year:f,dayOfYear:o}}function hi(n,t,i){var f,r,e=wi(n.year(),t,i),u=Math.floor((n.dayOfYear()-e-1)/7)+1;return 1>u?(r=n.year()-1,f=u+kt(r,t,i)):u>kt(n.year(),t,i)?(f=u-kt(n.year(),t,i),r=n.year()+1):(r=n.year(),f=u),{week:f,year:r}}function kt(n,t,i){var r=wi(n,t,i),u=wi(n+1,t,i);return(si(n)-r+u)/7}function ri(n,t,i){return null!=n?n:null!=t?t:i}function ys(n){var i=new Date(t.now());return n._useUTC?[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]:[i.getFullYear(),i.getMonth(),i.getDate()]}function wr(n){var t,i,r,u,e=[];if(!n._d){for(r=ys(n),n._w&&null==n._a[rt]&&null==n._a[ft]&&ps(n),n._dayOfYear&&(u=ri(n._a[nt],r[nt]),n._dayOfYear>si(u)&&(f(n)._overflowDayOfYear=!0),i=pi(u,0,n._dayOfYear),n._a[ft]=i.getUTCMonth(),n._a[rt]=i.getUTCDate()),t=0;3>t&&null==n._a[t];++t)n._a[t]=e[t]=r[t];for(;7>t;t++)n._a[t]=e[t]=null==n._a[t]?2===t?1:0:n._a[t];24===n._a[v]&&0===n._a[tt]&&0===n._a[et]&&0===n._a[ni]&&(n._nextDay=!0,n._a[v]=0);n._d=(n._useUTC?pi:as).apply(null,e);null!=n._tzm&&n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm);n._nextDay&&(n._a[v]=24)}}function ps(n){var t,o,u,i,r,e,c,s;t=n._w;null!=t.GG||null!=t.W||null!=t.E?(r=1,e=4,o=ri(t.GG,n._a[nt],hi(h(),1,4).year),u=ri(t.W,1),i=ri(t.E,1),(1>i||i>7)&&(s=!0)):(r=n._locale._week.dow,e=n._locale._week.doy,o=ri(t.gg,n._a[nt],hi(h(),r,e).year),u=ri(t.w,1),null!=t.d?(i=t.d,(0>i||i>6)&&(s=!0)):null!=t.e?(i=t.e+r,(t.e<0||t.e>6)&&(s=!0)):i=r);1>u||u>kt(o,r,e)?f(n)._overflowWeeks=!0:null!=s?f(n)._overflowWeekday=!0:(c=vf(o,u,i,r,e),n._a[nt]=c.year,n._dayOfYear=c.dayOfYear)}function br(n){if(n._f===t.ISO_8601)return void lf(n);n._a=[];f(n).empty=!0;for(var i,u,s,r=""+n._i,c=r.length,h=0,o=of(n._f,n._locale).match(we)||[],e=0;e<o.length;e++)u=o[e],i=(r.match(ts(u,n))||[])[0],i&&(s=r.substr(0,r.indexOf(i)),s.length>0&&f(n).unusedInput.push(s),r=r.slice(r.indexOf(i)+i.length),h+=i.length),ui[u]?(i?f(n).empty=!1:f(n).unusedTokens.push(u),rs(u,i,n)):n._strict&&!i&&f(n).unusedTokens.push(u);f(n).charsLeftOver=c-h;r.length>0&&f(n).unusedInput.push(r);f(n).bigHour===!0&&n._a[v]<=12&&n._a[v]>0&&(f(n).bigHour=void 0);f(n).parsedDateParts=n._a.slice(0);f(n).meridiem=n._meridiem;n._a[v]=ws(n._locale,n._a[v],n._meridiem);wr(n);pr(n)}function ws(n,t,i){var r;return null==i?t:null!=n.meridiemHour?n.meridiemHour(t,i):null!=n.isPM?(r=n.isPM(i),r&&12>t&&(t+=12),r||12!==t||(t=0),t):t}function bs(n){var t,e,u,r,i;if(0===n._f.length)return f(n).invalidFormat=!0,void(n._d=new Date(NaN));for(r=0;r<n._f.length;r++)i=0,t=hr({},n),null!=n._useUTC&&(t._useUTC=n._useUTC),t._f=n._f[r],br(t),sr(t)&&(i+=f(t).charsLeftOver,i+=10*f(t).unusedTokens.length,f(t).score=i,(null==u||u>i)&&(u=i,e=t));wt(n,e||t)}function ks(n){if(!n._d){var t=uf(n._i);n._a=bu([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(n){return n&&parseInt(n,10)});wr(n)}}function ds(n){var t=new ei(pr(yf(n)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function yf(n){var t=n._i,i=n._f;return n._locale=n._locale||ct(n._l),null===t||void 0===i&&""===t?vi({nullInput:!0}):("string"==typeof t&&(n._i=t=n._locale.preparse(t)),st(t)?new ei(pr(t)):(pt(i)?bs(n):i?br(n):ai(t)?n._d=t:gs(n),sr(n)||(n._d=null),n))}function gs(n){var i=n._i;void 0===i?n._d=new Date(t.now()):ai(i)?n._d=new Date(i.valueOf()):"string"==typeof i?ls(n):pt(i)?(n._a=bu(i.slice(0),function(n){return parseInt(n,10)}),wr(n)):"object"==typeof i?ks(n):"number"==typeof i?n._d=new Date(i):t.createFromInputFallback(n)}function pf(n,t,i,r,u){var f={};return"boolean"==typeof i&&(r=i,i=void 0),f._isAMomentObject=!0,f._useUTC=f._isUTC=u,f._l=i,f._i=n,f._f=t,f._strict=r,ds(f)}function h(n,t,i,r){return pf(n,t,i,r,!1)}function wf(n,t){var r,i;if(1===t.length&&pt(t[0])&&(t=t[0]),!t.length)return h();for(r=t[0],i=1;i<t.length;++i)(!t[i].isValid()||t[i][n](r))&&(r=t[i]);return r}function nh(){var n=[].slice.call(arguments,0);return wf("isBefore",n)}function th(){var n=[].slice.call(arguments,0);return wf("isAfter",n)}function bi(n){var t=uf(n),i=t.year||0,r=t.quarter||0,u=t.month||0,f=t.week||0,e=t.day||0,o=t.hour||0,s=t.minute||0,h=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*h+6e4*s+36e5*o;this._days=+e+7*f;this._months=+u+3*r+12*i;this._data={};this._locale=ct();this._bubble()}function kr(n){return n instanceof bi}function bf(n,t){r(n,0,0,function(){var n=this.utcOffset(),i="+";return 0>n&&(n=-n,i="-"),i+ut(~~(n/60),2)+t+ut(~~n%60,2)})}function dr(n,t){var r=(t||"").match(n)||[],f=r[r.length-1]||[],i=(f+"").match(to)||["-",0,0],u=+(60*i[1])+e(i[2]);return"+"===i[0]?u:-u}function gr(n,i){var r,u;return i._isUTC?(r=i.clone(),u=(st(n)||ai(n)?n.valueOf():h(n).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+u),t.updateOffset(r,!1),r):h(n).local()}function nu(n){return 15*-Math.round(n._d.getTimezoneOffset()/15)}function ih(n,i){var r,u=this._offset||0;return this.isValid()?null!=n?("string"==typeof n?n=dr(er,n):Math.abs(n)<16&&(n=60*n),!this._isUTC&&i&&(r=nu(this)),this._offset=n,this._isUTC=!0,null!=r&&this.add(r,"m"),u!==n&&(!i||this._changeInProgress?te(this,lt(n-u,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?u:nu(this):null!=n?this:NaN}function rh(n,t){return null!=n?("string"!=typeof n&&(n=-n),this.utcOffset(n,t),this):-this.utcOffset()}function uh(n){return this.utcOffset(0,n)}function fh(n){return this._isUTC&&(this.utcOffset(0,n),this._isUTC=!1,n&&this.subtract(nu(this),"m")),this}function eh(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(dr(vv,this._i)),this}function oh(n){return this.isValid()?(n=n?h(n).utcOffset():0,(this.utcOffset()-n)%60==0):!1}function sh(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function hh(){var n,t;return p(this._isDSTShifted)?(n={},(hr(n,this),n=yf(n),n._a)?(t=n._isUTC?it(n._a):h(n._a),this._isDSTShifted=this.isValid()&&ku(n._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted):this._isDSTShifted}function ch(){return this.isValid()?!this._isUTC:!1}function lh(){return this.isValid()?this._isUTC:!1}function kf(){return this.isValid()?this._isUTC&&0===this._offset:!1}function lt(n,t){var u,f,o,i=n,r=null;return kr(n)?i={ms:n._milliseconds,d:n._days,M:n._months}:"number"==typeof n?(i={},t?i[t]=n:i.milliseconds=n):(r=io.exec(n))?(u="-"===r[1]?-1:1,i={y:0,d:e(r[rt])*u,h:e(r[v])*u,m:e(r[tt])*u,s:e(r[et])*u,ms:e(r[ni])*u}):(r=ro.exec(n))?(u="-"===r[1]?-1:1,i={y:dt(r[2],u),M:dt(r[3],u),w:dt(r[4],u),d:dt(r[5],u),h:dt(r[6],u),m:dt(r[7],u),s:dt(r[8],u)}):null==i?i={}:"object"==typeof i&&("from"in i||"to"in i)&&(o=ah(h(i.from),h(i.to)),i={},i.ms=o.milliseconds,i.M=o.months),f=new bi(i),kr(n)&&w(n,"_locale")&&(f._locale=n._locale),f}function dt(n,t){var i=n&&parseFloat(n.replace(",","."));return(isNaN(i)?0:i)*t}function df(n,t){var i={milliseconds:0,months:0};return i.months=t.month()-n.month()+12*(t.year()-n.year()),n.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+n.clone().add(i.months,"M"),i}function ah(n,t){var i;return n.isValid()&&t.isValid()?(t=gr(t,n),n.isBefore(t)?i=df(n,t):(i=df(t,n),i.milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}function gf(n){return 0>n?-1*Math.round(-1*n):Math.round(n)}function ne(n,t){return function(i,r){var u,f;return null===r||isNaN(+r)||(cr(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),f=i,i=r,r=f),i="string"==typeof i?+i:i,u=lt(i,r),te(this,u,n),this}}function te(n,i,r,u){var o=i._milliseconds,f=gf(i._days),e=gf(i._months);n.isValid()&&(u=null==u?!0:u,o&&n._d.setTime(n._d.valueOf()+o*r),f&&ff(n,"Date",yi(n,"Date")+f*r),e&&sf(n,yi(n,"Month")+e*r),u&&t.updateOffset(n,f||e))}function vh(n,t){var u=n||h(),f=gr(u,this).startOf("day"),i=this.diff(f,"days",!0),r=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse",e=t&&(ht(t[r])?t[r]():t[r]);return this.format(e||this.localeData().calendar(r,this,h(u)))}function yh(){return new ei(this)}function ph(n,t){var i=st(n)?n:h(n);return this.isValid()&&i.isValid()?(t=g(p(t)?"millisecond":t),"millisecond"===t?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(t).valueOf()):!1}function wh(n,t){var i=st(n)?n:h(n);return this.isValid()&&i.isValid()?(t=g(p(t)?"millisecond":t),"millisecond"===t?this.valueOf()<i.valueOf():this.clone().endOf(t).valueOf()<i.valueOf()):!1}function bh(n,t,i,r){return r=r||"()",("("===r[0]?this.isAfter(n,i):!this.isBefore(n,i))&&(")"===r[1]?this.isBefore(t,i):!this.isAfter(t,i))}function kh(n,t){var i,r=st(n)?n:h(n);return this.isValid()&&r.isValid()?(t=g(t||"millisecond"),"millisecond"===t?this.valueOf()===r.valueOf():(i=r.valueOf(),this.clone().startOf(t).valueOf()<=i&&i<=this.clone().endOf(t).valueOf())):!1}function dh(n,t){return this.isSame(n,t)||this.isAfter(n,t)}function gh(n,t){return this.isSame(n,t)||this.isBefore(n,t)}function nc(n,t,i){var f,e,r,u;return this.isValid()?(f=gr(n,this),f.isValid()?(e=6e4*(f.utcOffset()-this.utcOffset()),t=g(t),"year"===t||"month"===t||"quarter"===t?(u=tc(this,f),"quarter"===t?u/=3:"year"===t&&(u/=12)):(r=this-f,u="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-e)/864e5:"week"===t?(r-e)/6048e5:r),i?u:b(u)):NaN):NaN}function tc(n,t){var r,f,u=12*(t.year()-n.year())+(t.month()-n.month()),i=n.clone().add(u,"months");return 0>t-i?(r=n.clone().add(u-1,"months"),f=(t-i)/(i-r)):(r=n.clone().add(u+1,"months"),f=(t-i)/(r-i)),-(u+f)||0}function ic(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function rc(){var n=this.clone().utc();return 0<n.year()&&n.year()<=9999?ht(Date.prototype.toISOString)?this.toDate().toISOString():vr(n,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):vr(n,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function uc(n){n||(n=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var i=vr(this,n);return this.localeData().postformat(i)}function fc(n,t){return this.isValid()&&(st(n)&&n.isValid()||h(n).isValid())?lt({to:this,from:n}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ec(n){return this.from(h(),n)}function oc(n,t){return this.isValid()&&(st(n)&&n.isValid()||h(n).isValid())?lt({from:this,to:n}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function sc(n){return this.to(h(),n)}function ie(n){var t;return void 0===n?this._locale._abbr:(t=ct(n),null!=t&&(this._locale=t),this)}function re(){return this._locale}function hc(n){switch(n=g(n)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===n&&this.weekday(0),"isoWeek"===n&&this.isoWeekday(1),"quarter"===n&&this.month(3*Math.floor(this.month()/3)),this}function cc(n){return n=g(n),void 0===n||"millisecond"===n?this:("date"===n&&(n="day"),this.startOf(n).add(1,"isoWeek"===n?"week":n).subtract(1,"ms"))}function lc(){return this._d.valueOf()-6e4*(this._offset||0)}function ac(){return Math.floor(this.valueOf()/1e3)}function vc(){return this._offset?new Date(this.valueOf()):this._d}function yc(){var n=this;return[n.year(),n.month(),n.date(),n.hour(),n.minute(),n.second(),n.millisecond()]}function pc(){var n=this;return{years:n.year(),months:n.month(),date:n.date(),hours:n.hours(),minutes:n.minutes(),seconds:n.seconds(),milliseconds:n.milliseconds()}}function wc(){return this.isValid()?this.toISOString():null}function bc(){return sr(this)}function kc(){return wt({},f(this))}function dc(){return f(this).overflow}function gc(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function ki(n,t){r(0,[n,n.length],0,t)}function nl(n){return ue.call(this,n,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function tl(n){return ue.call(this,n,this.isoWeek(),this.isoWeekday(),1,4)}function il(){return kt(this.year(),1,4)}function rl(){var n=this.localeData()._week;return kt(this.year(),n.dow,n.doy)}function ue(n,t,i,r,u){var f;return null==n?hi(this,r,u).year:(f=kt(n,r,u),t>f&&(t=f),ul.call(this,n,t,i,r,u))}function ul(n,t,i,r,u){var e=vf(n,t,i,r,u),f=pi(e.year,0,e.dayOfYear);return this.year(f.getUTCFullYear()),this.month(f.getUTCMonth()),this.date(f.getUTCDate()),this}function fl(n){return null==n?Math.ceil((this.month()+1)/3):this.month(3*(n-1)+this.month()%3)}function el(n){return hi(n,this._week.dow,this._week.doy).week}function ol(){return this._week.dow}function sl(){return this._week.doy}function hl(n){var t=this.localeData().week(this);return null==n?t:this.add(7*(n-t),"d")}function cl(n){var t=hi(this,1,4).week;return null==n?t:this.add(7*(n-t),"d")}function ll(n,t){return"string"!=typeof n?n:isNaN(n)?(n=t.weekdaysParse(n),"number"==typeof n?n:null):parseInt(n,10)}function al(n,t){return pt(this._weekdays)?this._weekdays[n.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][n.day()]}function vl(n){return this._weekdaysShort[n.day()]}function yl(n){return this._weekdaysMin[n.day()]}function pl(n,t,i){var f,r,e,u=n.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],f=0;7>f;++f)e=it([2e3,1]).day(f),this._minWeekdaysParse[f]=this.weekdaysMin(e,"").toLocaleLowerCase(),this._shortWeekdaysParse[f]=this.weekdaysShort(e,"").toLocaleLowerCase(),this._weekdaysParse[f]=this.weekdays(e,"").toLocaleLowerCase();return i?"dddd"===t?(r=a.call(this._weekdaysParse,u),-1!==r?r:null):"ddd"===t?(r=a.call(this._shortWeekdaysParse,u),-1!==r?r:null):(r=a.call(this._minWeekdaysParse,u),-1!==r?r:null):"dddd"===t?(r=a.call(this._weekdaysParse,u),-1!==r?r:(r=a.call(this._shortWeekdaysParse,u),-1!==r?r:(r=a.call(this._minWeekdaysParse,u),-1!==r?r:null))):"ddd"===t?(r=a.call(this._shortWeekdaysParse,u),-1!==r?r:(r=a.call(this._weekdaysParse,u),-1!==r?r:(r=a.call(this._minWeekdaysParse,u),-1!==r?r:null))):(r=a.call(this._minWeekdaysParse,u),-1!==r?r:(r=a.call(this._weekdaysParse,u),-1!==r?r:(r=a.call(this._shortWeekdaysParse,u),-1!==r?r:null)))}function wl(n,t,i){var r,u,f;if(this._weekdaysParseExact)return pl.call(this,n,t,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;7>r;r++)if((u=it([2e3,1]).day(r),i&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(u,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(u,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(u,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(f="^"+this.weekdays(u,"")+"|^"+this.weekdaysShort(u,"")+"|^"+this.weekdaysMin(u,""),this._weekdaysParse[r]=new RegExp(f.replace(".",""),"i")),i&&"dddd"===t&&this._fullWeekdaysParse[r].test(n))||i&&"ddd"===t&&this._shortWeekdaysParse[r].test(n)||i&&"dd"===t&&this._minWeekdaysParse[r].test(n)||!i&&this._weekdaysParse[r].test(n))return r}function bl(n){if(!this.isValid())return null!=n?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=n?(n=ll(n,this.localeData()),this.add(n-t,"d")):t}function kl(n){if(!this.isValid())return null!=n?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==n?t:this.add(n-t,"d")}function dl(n){return this.isValid()?null==n?this.day()||7:this.day(this.day()%7?n:n-7):null!=n?this:NaN}function gl(n){return this._weekdaysParseExact?(w(this,"_weekdaysRegex")||tu.call(this),n?this._weekdaysStrictRegex:this._weekdaysRegex):this._weekdaysStrictRegex&&n?this._weekdaysStrictRegex:this._weekdaysRegex}function na(n){return this._weekdaysParseExact?(w(this,"_weekdaysRegex")||tu.call(this),n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):this._weekdaysShortStrictRegex&&n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex}function ta(n){return this._weekdaysParseExact?(w(this,"_weekdaysRegex")||tu.call(this),n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):this._weekdaysMinStrictRegex&&n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex}function tu(){function u(n,t){return t.length-n.length}for(var f,e,o,s,h=[],i=[],r=[],t=[],n=0;7>n;n++)f=it([2e3,1]).day(n),e=this.weekdaysMin(f,""),o=this.weekdaysShort(f,""),s=this.weekdays(f,""),h.push(e),i.push(o),r.push(s),t.push(e),t.push(o),t.push(s);for(h.sort(u),i.sort(u),r.sort(u),t.sort(u),n=0;7>n;n++)i[n]=bt(i[n]),r[n]=bt(r[n]),t[n]=bt(t[n]);this._weekdaysRegex=new RegExp("^("+t.join("|")+")","i");this._weekdaysShortRegex=this._weekdaysRegex;this._weekdaysMinRegex=this._weekdaysRegex;this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i");this._weekdaysShortStrictRegex=new RegExp("^("+i.join("|")+")","i");this._weekdaysMinStrictRegex=new RegExp("^("+h.join("|")+")","i")}function ia(n){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==n?t:this.add(n-t,"d")}function iu(){return this.hours()%12||12}function ra(){return this.hours()||24}function fe(n,t){r(n,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function ee(n,t){return t._meridiemParse}function ua(n){return"p"===(n+"").toLowerCase().charAt(0)}function fa(n,t,i){return n>11?i?"pm":"PM":i?"am":"AM"}function ea(n,t){t[ni]=e(1e3*("0."+n))}function oa(){return this._isUTC?"UTC":""}function sa(){return this._isUTC?"Coordinated Universal Time":""}function ha(n){return h(1e3*n)}function ca(){return h.apply(null,arguments).parseZone()}function la(n,t,i){var r=this._calendar[n];return ht(r)?r.call(t,i):r}function aa(n){var t=this._longDateFormat[n],i=this._longDateFormat[n.toUpperCase()];return t||!i?t:(this._longDateFormat[n]=i.replace(/MMMM|MM|DD|dddd/g,function(n){return n.slice(1)}),this._longDateFormat[n])}function va(){return this._invalidDate}function ya(n){return this._ordinal.replace("%d",n)}function oe(n){return n}function pa(n,t,i,r){var u=this._relativeTime[i];return ht(u)?u(n,t,i,r):u.replace(/%d/i,n)}function wa(n,t){var i=this._relativeTime[n>0?"future":"past"];return ht(i)?i(t):i.replace(/%s/i,t)}function di(n,t,i,r){var u=ct(),f=it().set(r,t);return u[i](f,n)}function se(n,t,i){if("number"==typeof n&&(t=n,n=void 0),n=n||"",null!=t)return di(n,t,i,"month");for(var u=[],r=0;12>r;r++)u[r]=di(n,r,i,"month");return u}function ru(n,t,i,r){var o,f,u,e;if("boolean"==typeof n?("number"==typeof t&&(i=t,t=void 0),t=t||""):(t=n,i=t,n=!1,"number"==typeof t&&(i=t,t=void 0),t=t||""),o=ct(),f=n?o._week.dow:0,null!=i)return di(t,(i+f)%7,r,"day");for(e=[],u=0;7>u;u++)e[u]=di(t,(u+f)%7,r,"day");return e}function ba(n,t){return se(n,t,"months")}function ka(n,t){return se(n,t,"monthsShort")}function da(n,t,i){return ru(n,t,i,"weekdays")}function ga(n,t,i){return ru(n,t,i,"weekdaysShort")}function nv(n,t,i){return ru(n,t,i,"weekdaysMin")}function tv(){var n=this._data;return this._milliseconds=ot(this._milliseconds),this._days=ot(this._days),this._months=ot(this._months),n.milliseconds=ot(n.milliseconds),n.seconds=ot(n.seconds),n.minutes=ot(n.minutes),n.hours=ot(n.hours),n.months=ot(n.months),n.years=ot(n.years),this}function he(n,t,i,r){var u=lt(t,i);return n._milliseconds+=r*u._milliseconds,n._days+=r*u._days,n._months+=r*u._months,n._bubble()}function iv(n,t){return he(this,n,t,1)}function rv(n,t){return he(this,n,t,-1)}function ce(n){return 0>n?Math.floor(n):Math.ceil(n)}function uv(){var u,f,e,s,o,r=this._milliseconds,n=this._days,t=this._months,i=this._data;return r>=0&&n>=0&&t>=0||0>=r&&0>=n&&0>=t||(r+=864e5*ce(uu(t)+n),n=0,t=0),i.milliseconds=r%1e3,u=b(r/1e3),i.seconds=u%60,f=b(u/60),i.minutes=f%60,e=b(f/60),i.hours=e%24,n+=b(e/24),o=b(le(n)),t+=o,n-=ce(uu(o)),s=b(t/12),t%=12,i.days=n,i.months=t,i.years=s,this}function le(n){return 4800*n/146097}function uu(n){return 146097*n/4800}function fv(n){var t,r,i=this._milliseconds;if(n=g(n),"month"===n||"year"===n)return t=this._days+i/864e5,r=this._months+le(t),"month"===n?r:r/12;switch(t=this._days+Math.round(uu(this._months)),n){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+n);}}function ev(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*e(this._months/12)}function at(n){return function(){return this.as(n)}}function ov(n){return n=g(n),this[n+"s"]()}function gt(n){return function(){return this._data[n]}}function sv(){return b(this.days()/7)}function hv(n,t,i,r,u){return u.relativeTime(t||1,!!i,n,r)}function cv(n,t,i){var r=lt(n).abs(),h=fi(r.as("s")),f=fi(r.as("m")),e=fi(r.as("h")),o=fi(r.as("d")),s=fi(r.as("M")),c=fi(r.as("y")),u=h<yt.s&&["s",h]||1>=f&&["m"]||f<yt.m&&["mm",f]||1>=e&&["h"]||e<yt.h&&["hh",e]||1>=o&&["d"]||o<yt.d&&["dd",o]||1>=s&&["M"]||s<yt.M&&["MM",s]||1>=c&&["y"]||["yy",c];return u[2]=t,u[3]=+n>0,u[4]=i,hv.apply(null,u)}function lv(n,t){return void 0===yt[n]?!1:void 0===t?yt[n]:(yt[n]=t,!0)}function av(n){var t=this.localeData(),i=cv(this,!n,t);return n&&(i=t.pastFuture(+this,i)),t.postformat(i)}function gi(){var n,e,o,t=wu(this._milliseconds)/1e3,a=wu(this._days),i=wu(this._months);n=b(t/60);e=b(n/60);t%=60;n%=60;o=b(i/12);i%=12;var s=o,h=i,c=a,r=e,u=n,f=t,l=this.asSeconds();return l?(0>l?"-":"")+"P"+(s?s+"Y":"")+(h?h+"M":"")+(c?c+"D":"")+(r||u||f?"T":"")+(r?r+"H":"")+(u?u+"M":"")+(f?f+"S":""):"P0D"}var ae,ve,pe,vu,to,io,ro,uo,fo,yu,eo,pu,oo,so,ho,co,vt,lo,n;ve=Array.prototype.some?Array.prototype.some:function(n){for(var i=Object(this),r=i.length>>>0,t=0;r>t;t++)if(t in i&&n.call(this,i[t],t,i))return!0;return!1};var fu=t.momentProperties=[],eu=!1,ye={};t.suppressDeprecationWarnings=!1;t.deprecationHandler=null;pe=Object.keys?Object.keys:function(n){var t,i=[];for(t in n)w(n,t)&&i.push(t);return i};var nr,a,l={},ci={},we=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,tr=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ou={},ui={},be=/\d/,k=/\d\d/,ke=/\d{3}/,su=/\d{4}/,ir=/[+-]?\d{6}/,c=/\d\d?/,de=/\d\d\d\d?/,ge=/\d\d\d\d\d\d?/,rr=/\d{1,3}/,hu=/\d{1,4}/,ur=/[+-]?\d{1,6}/,fr=/[+-]?\d+/,vv=/Z|[+-]\d\d:?\d\d/gi,er=/Z|[+-]\d\d(?::?\d\d)?/gi,li=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,cu={},lu={},nt=0,ft=1,rt=2,v=3,tt=4,et=5,ni=6,yv=7,pv=8;a=Array.prototype.indexOf?Array.prototype.indexOf:function(n){for(var t=0;t<this.length;++t)if(this[t]===n)return t;return-1};r("M",["MM",2],"Mo",function(){return this.month()+1});r("MMM",0,0,function(n){return this.localeData().monthsShort(this,n)});r("MMMM",0,0,function(n){return this.localeData().months(this,n)});y("month","M");i("M",c);i("MM",c,k);i("MMM",function(n,t){return t.monthsShortRegex(n)});i("MMMM",function(n,t){return t.monthsRegex(n)});s(["M","MM"],function(n,t){t[ft]=e(n)-1});s(["MMM","MMMM"],function(n,t,i,r){var u=i._locale.monthsParse(n,r,i._strict);null!=u?t[ft]=u:f(i).invalidMonth=n});var no=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,wv="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),bv="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),kv=li,dv=li,gv=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,ny=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,ty=/Z|[+-]\d\d(?::?\d\d)?/,or=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],au=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],iy=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=d("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(n){n._d=new Date(n._i+(n._useUTC?" UTC":""))});r("Y",0,0,function(){var n=this.year();return 9999>=n?""+n:"+"+n});r(0,["YY",2],0,function(){return this.year()%100});r(0,["YYYY",4],0,"year");r(0,["YYYYY",5],0,"year");r(0,["YYYYYY",6,!0],0,"year");y("year","y");i("Y",fr);i("YY",c,k);i("YYYY",hu,su);i("YYYYY",ur,ir);i("YYYYYY",ur,ir);s(["YYYYY","YYYYYY"],nt);s("YYYY",function(n,i){i[nt]=2===n.length?t.parseTwoDigitYear(n):e(n)});s("YY",function(n,i){i[nt]=t.parseTwoDigitYear(n)});s("Y",function(n,t){t[nt]=parseInt(n,10)});t.parseTwoDigitYear=function(n){return e(n)+(e(n)>68?1900:2e3)};vu=ii("FullYear",!0);t.ISO_8601=function(){};var ry=d("moment().min is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var n=h.apply(null,arguments);return this.isValid()&&n.isValid()?this>n?this:n:vi()}),uy=d("moment().max is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var n=h.apply(null,arguments);return this.isValid()&&n.isValid()?n>this?this:n:vi()}),fy=function(){return Date.now?Date.now():+new Date};bf("Z",":");bf("ZZ","");i("Z",er);i("ZZ",er);s(["Z","ZZ"],function(n,t,i){i._useUTC=!0;i._tzm=dr(er,n)});to=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};io=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/;ro=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;lt.fn=bi.prototype;uo=ne(1,"add");fo=ne(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";yu=d("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(n){return void 0===n?this.localeData():this.locale(n)});r(0,["gg",2],0,function(){return this.weekYear()%100});r(0,["GG",2],0,function(){return this.isoWeekYear()%100});ki("gggg","weekYear");ki("ggggg","weekYear");ki("GGGG","isoWeekYear");ki("GGGGG","isoWeekYear");y("weekYear","gg");y("isoWeekYear","GG");i("G",fr);i("g",fr);i("GG",c,k);i("gg",c,k);i("GGGG",hu,su);i("gggg",hu,su);i("GGGGG",ur,ir);i("ggggg",ur,ir);oi(["gggg","ggggg","GGGG","GGGGG"],function(n,t,i,r){t[r.substr(0,2)]=e(n)});oi(["gg","GG"],function(n,i,r,u){i[u]=t.parseTwoDigitYear(n)});r("Q",0,"Qo","quarter");y("quarter","Q");i("Q",be);s("Q",function(n,t){t[ft]=3*(e(n)-1)});r("w",["ww",2],"wo","week");r("W",["WW",2],"Wo","isoWeek");y("week","w");y("isoWeek","W");i("w",c);i("ww",c,k);i("W",c);i("WW",c,k);oi(["w","ww","W","WW"],function(n,t,i,r){t[r.substr(0,1)]=e(n)});eo={dow:0,doy:6};r("D",["DD",2],"Do","date");y("date","D");i("D",c);i("DD",c,k);i("Do",function(n,t){return n?t._ordinalParse:t._ordinalParseLenient});s(["D","DD"],rt);s("Do",function(n,t){t[rt]=e(n.match(c)[0],10)});pu=ii("Date",!0);r("d",0,"do","day");r("dd",0,0,function(n){return this.localeData().weekdaysMin(this,n)});r("ddd",0,0,function(n){return this.localeData().weekdaysShort(this,n)});r("dddd",0,0,function(n){return this.localeData().weekdays(this,n)});r("e",0,0,"weekday");r("E",0,0,"isoWeekday");y("day","d");y("weekday","e");y("isoWeekday","E");i("d",c);i("e",c);i("E",c);i("dd",function(n,t){return t.weekdaysMinRegex(n)});i("ddd",function(n,t){return t.weekdaysShortRegex(n)});i("dddd",function(n,t){return t.weekdaysRegex(n)});oi(["dd","ddd","dddd"],function(n,t,i,r){var u=i._locale.weekdaysParse(n,r,i._strict);null!=u?t.d=u:f(i).invalidWeekday=n});oi(["d","e","E"],function(n,t,i,r){t[r]=e(n)});var ey="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),oy="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),sy="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),hy=li,cy=li,ly=li;for(r("DDD",["DDDD",3],"DDDo","dayOfYear"),y("dayOfYear","DDD"),i("DDD",rr),i("DDDD",ke),s(["DDD","DDDD"],function(n,t,i){i._dayOfYear=e(n)}),r("H",["HH",2],0,"hour"),r("h",["hh",2],0,iu),r("k",["kk",2],0,ra),r("hmm",0,0,function(){return""+iu.apply(this)+ut(this.minutes(),2)}),r("hmmss",0,0,function(){return""+iu.apply(this)+ut(this.minutes(),2)+ut(this.seconds(),2)}),r("Hmm",0,0,function(){return""+this.hours()+ut(this.minutes(),2)}),r("Hmmss",0,0,function(){return""+this.hours()+ut(this.minutes(),2)+ut(this.seconds(),2)}),fe("a",!0),fe("A",!1),y("hour","h"),i("a",ee),i("A",ee),i("H",c),i("h",c),i("HH",c,k),i("hh",c,k),i("hmm",de),i("hmmss",ge),i("Hmm",de),i("Hmmss",ge),s(["H","HH"],v),s(["a","A"],function(n,t,i){i._isPm=i._locale.isPM(n);i._meridiem=n}),s(["h","hh"],function(n,t,i){t[v]=e(n);f(i).bigHour=!0}),s("hmm",function(n,t,i){var r=n.length-2;t[v]=e(n.substr(0,r));t[tt]=e(n.substr(r));f(i).bigHour=!0}),s("hmmss",function(n,t,i){var r=n.length-4,u=n.length-2;t[v]=e(n.substr(0,r));t[tt]=e(n.substr(r,2));t[et]=e(n.substr(u));f(i).bigHour=!0}),s("Hmm",function(n,t){var i=n.length-2;t[v]=e(n.substr(0,i));t[tt]=e(n.substr(i))}),s("Hmmss",function(n,t){var i=n.length-4,r=n.length-2;t[v]=e(n.substr(0,i));t[tt]=e(n.substr(i,2));t[et]=e(n.substr(r))}),oo=/[ap]\.?m?\.?/i,so=ii("Hours",!0),r("m",["mm",2],0,"minute"),y("minute","m"),i("m",c),i("mm",c,k),s(["m","mm"],tt),ho=ii("Minutes",!1),r("s",["ss",2],0,"second"),y("second","s"),i("s",c),i("ss",c,k),s(["s","ss"],et),co=ii("Seconds",!1),r("S",0,0,function(){return~~(this.millisecond()/100)}),r(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),r(0,["SSS",3],0,"millisecond"),r(0,["SSSS",4],0,function(){return 10*this.millisecond()}),r(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),r(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),r(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),r(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),r(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),y("millisecond","ms"),i("S",rr,be),i("SS",rr,k),i("SSS",rr,ke),vt="SSSS";vt.length<=9;vt+="S")i(vt,/\d+/);for(vt="S";vt.length<=9;vt+="S")s(vt,ea);lo=ii("Milliseconds",!1);r("z",0,0,"zoneAbbr");r("zz",0,0,"zoneName");n=ei.prototype;n.add=uo;n.calendar=vh;n.clone=yh;n.diff=nc;n.endOf=cc;n.format=uc;n.from=fc;n.fromNow=ec;n.to=oc;n.toNow=sc;n.get=ef;n.invalidAt=dc;n.isAfter=ph;n.isBefore=wh;n.isBetween=bh;n.isSame=kh;n.isSameOrAfter=dh;n.isSameOrBefore=gh;n.isValid=bc;n.lang=yu;n.locale=ie;n.localeData=re;n.max=uy;n.min=ry;n.parsingFlags=kc;n.set=ef;n.startOf=hc;n.subtract=fo;n.toArray=yc;n.toObject=pc;n.toDate=vc;n.toISOString=rc;n.toJSON=wc;n.toString=ic;n.unix=ac;n.valueOf=lc;n.creationData=gc;n.year=vu;n.isLeapYear=vs;n.weekYear=nl;n.isoWeekYear=tl;n.quarter=n.quarters=fl;n.month=hf;n.daysInMonth=ss;n.week=n.weeks=hl;n.isoWeek=n.isoWeeks=cl;n.weeksInYear=rl;n.isoWeeksInYear=il;n.date=pu;n.day=n.days=bl;n.weekday=kl;n.isoWeekday=dl;n.dayOfYear=ia;n.hour=n.hours=so;n.minute=n.minutes=ho;n.second=n.seconds=co;n.millisecond=n.milliseconds=lo;n.utcOffset=ih;n.utc=uh;n.local=fh;n.parseZone=eh;n.hasAlignedHourOffset=oh;n.isDST=sh;n.isDSTShifted=hh;n.isLocal=ch;n.isUtcOffset=lh;n.isUtc=kf;n.isUTC=kf;n.zoneAbbr=oa;n.zoneName=sa;n.dates=d("dates accessor is deprecated. Use date instead.",pu);n.months=d("months accessor is deprecated. Use month instead",hf);n.years=d("years accessor is deprecated. Use year instead",vu);n.zone=d("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",rh);var ao=n,u=ar.prototype;u._calendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};u.calendar=la;u._longDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};u.longDateFormat=aa;u._invalidDate="Invalid date";u.invalidDate=va;u._ordinal="%d";u.ordinal=ya;u._ordinalParse=/\d{1,2}/;u.preparse=oe;u.postformat=oe;u._relativeTime={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};u.relativeTime=pa;u.pastFuture=wa;u.set=po;u.months=us;u._months=wv;u.monthsShort=fs;u._monthsShort=bv;u.monthsParse=os;u._monthsRegex=dv;u.monthsRegex=cs;u._monthsShortRegex=kv;u.monthsShortRegex=hs;u.week=el;u._week=eo;u.firstDayOfYear=sl;u.firstDayOfWeek=ol;u.weekdays=al;u._weekdays=ey;u.weekdaysMin=yl;u._weekdaysMin=sy;u.weekdaysShort=vl;u._weekdaysShort=oy;u.weekdaysParse=wl;u._weekdaysRegex=hy;u.weekdaysRegex=gl;u._weekdaysShortRegex=cy;u.weekdaysShortRegex=na;u._weekdaysMinRegex=ly;u.weekdaysMinRegex=ta;u.isPM=ua;u._meridiemParse=oo;u.meridiem=fa;ti("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(n){var t=n%10,i=1===e(n%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return n+i}});t.lang=d("moment.lang is deprecated. Use moment.locale instead.",ti);t.langData=d("moment.langData is deprecated. Use moment.localeData instead.",ct);var ot=Math.abs,ay=at("ms"),vy=at("s"),yy=at("m"),py=at("h"),wy=at("d"),by=at("w"),ky=at("M"),dy=at("y"),gy=gt("milliseconds"),np=gt("seconds"),tp=gt("minutes"),ip=gt("hours"),rp=gt("days"),up=gt("months"),fp=gt("years"),fi=Math.round,yt={s:45,m:45,h:22,d:26,M:11},wu=Math.abs,o=bi.prototype;return o.abs=tv,o.add=iv,o.subtract=rv,o.as=fv,o.asMilliseconds=ay,o.asSeconds=vy,o.asMinutes=yy,o.asHours=py,o.asDays=wy,o.asWeeks=by,o.asMonths=ky,o.asYears=dy,o.valueOf=ev,o._bubble=uv,o.get=ov,o.milliseconds=gy,o.seconds=np,o.minutes=tp,o.hours=ip,o.days=rp,o.weeks=sv,o.months=up,o.years=fp,o.humanize=av,o.toISOString=gi,o.toString=gi,o.toJSON=gi,o.locale=ie,o.localeData=re,o.toIsoString=d("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",gi),o.lang=yu,r("X",0,0,"unix"),r("x",0,0,"valueOf"),i("x",fr),i("X",/[+-]?\d+(\.\d{1,3})?/),s("X",function(n,t,i){i._d=new Date(1e3*parseFloat(n,10))}),s("x",function(n,t,i){i._d=new Date(e(n))}),t.version="2.13.0",vo(h),t.fn=ao,t.min=nh,t.max=th,t.now=fy,t.utc=it,t.unix=ha,t.months=ba,t.isDate=ai,t.locale=ti,t.invalid=vi,t.duration=lt,t.isMoment=st,t.weekdays=da,t.parseZone=ca,t.localeData=ct,t.isDuration=kr,t.monthsShort=ka,t.weekdaysMin=nv,t.defineLocale=rf,t.updateLocale=bo,t.locales=ko,t.weekdaysShort=ga,t.normalizeUnits=g,t.relativeTimeThreshold=lv,t.prototype=ao,t});!function(n){"function"==typeof define&&define.amd?define(["jquery","moment"],n):"object"==typeof exports?module.exports=n(require("jquery"),require("moment")):n(jQuery,moment)}(function(n,t){function nt(n){return ti(n,ou)}function bi(n,t){t.left&&n.css({"border-left-width":1,"margin-left":t.left-1});t.right&&n.css({"border-right-width":1,"margin-right":t.right-1})}function ki(n){n.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function rt(){n("body").addClass("fc-not-allowed")}function ut(){n("body").removeClass("fc-not-allowed")}function di(t,i,r){var u=Math.floor(i/t.length),e=Math.floor(i-u*(t.length-1)),f=[],o=[],s=[],h=0;gi(t);t.each(function(i,r){var l=i===t.length-1?e:u,c=n(r).outerHeight(!0);c<l?(f.push(r),o.push(c),s.push(n(r).height())):h+=c});r&&(i-=h,u=Math.floor(i/f.length),e=Math.floor(i-u*(f.length-1)));n(f).each(function(t,i){var r=t===f.length-1?e:u,h=o[t],c=s[t],l=r-(h-c);h<r&&n(i).height(l)})}function gi(n){n.height("")}function nr(t){var i=0;return t.find("> *").each(function(t,r){var u=n(r).outerWidth();u>i&&(i=u)}),i++,t.width(i),i}function wt(n,t){var i,r=n.add(t);return r.css({position:"relative",left:-1}),i=n.outerHeight()-t.outerHeight(),r.css({position:"",left:""}),i}function bt(t){var r=t.css("position"),i=t.parents().filter(function(){var t=n(this);return/(auto|scroll)/.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==r&&i.length?i:n(t[0].ownerDocument||document)}function kt(n,t){var i=n.offset(),r=i.left-(t?t.left:0),u=i.top-(t?t.top:0);return{left:r,right:r+n.outerWidth(),top:u,bottom:u+n.outerHeight()}}function tr(n,t){var i=n.offset(),r=dt(n),u=i.left+g(n,"border-left-width")+r.left-(t?t.left:0),f=i.top+g(n,"border-top-width")+r.top-(t?t.top:0);return{left:u,right:u+n[0].clientWidth,top:f,bottom:f+n[0].clientHeight}}function pu(n,t){var i=n.offset(),r=i.left+g(n,"border-left-width")+g(n,"padding-left")-(t?t.left:0),u=i.top+g(n,"border-top-width")+g(n,"padding-top")-(t?t.top:0);return{left:r,right:r+n.width(),top:u,bottom:u+n.height()}}function dt(n){var i=n.innerWidth()-n[0].clientWidth,t={left:0,right:0,top:0,bottom:n.innerHeight()-n[0].clientHeight};return wu()&&"rtl"==n.css("direction")?t.left=i:t.right=i,t}function wu(){return null===at&&(at=bu()),at}function bu(){var t=n("<div><div/><\/div>").css({position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body"),i=t.children(),r=i.offset().left>t.offset().left;return t.remove(),r}function g(n,t){return parseFloat(n.css(t))||0}function ir(n){return 1==n.which&&!n.ctrlKey}function c(n){if(void 0!==n.pageX)return n.pageX;var t=n.originalEvent.touches;if(t)return t[0].pageX}function l(n){if(void 0!==n.pageY)return n.pageY;var t=n.originalEvent.touches;if(t)return t[0].pageY}function rr(n){return/^touch/.test(n.type)}function ku(n){n.addClass("fc-unselectable").on("selectstart",ft)}function ft(n){n.preventDefault()}function du(n){return!!window.addEventListener&&(window.addEventListener("scroll",n,!0),!0)}function gu(n){return!!window.removeEventListener&&(window.removeEventListener("scroll",n,!0),!0)}function ur(n,t){var i={left:Math.max(n.left,t.left),right:Math.min(n.right,t.right),top:Math.max(n.top,t.top),bottom:Math.min(n.bottom,t.bottom)};return i.left<i.right&&i.top<i.bottom&&i}function nf(n,t){return{left:Math.min(Math.max(n.left,t.left),t.right),top:Math.min(Math.max(n.top,t.top),t.bottom)}}function tf(n){return{left:(n.left+n.right)/2,top:(n.top+n.bottom)/2}}function rf(n,t){return{left:n.left-t.left,top:n.top-t.top}}function fr(t){var u,i,f=[],r=[];for("string"==typeof t?r=t.split(/\s*,\s*/):"function"==typeof t?r=[t]:n.isArray(t)&&(r=t),u=0;u<r.length;u++)i=r[u],"string"==typeof i?f.push("-"==i.charAt(0)?{field:i.substring(1),order:-1}:{field:i,order:1}):"function"==typeof i&&f.push({func:i});return f}function er(n,t,i){for(var u,r=0;r<i.length;r++)if(u=or(n,t,i[r]))return u;return 0}function or(n,t,i){return i.func?i.func(n,t):sr(n[i.field],t[i.field])*(i.order||1)}function sr(t,i){return t||i?null==i?-1:null==t?1:"string"===n.type(t)||"string"===n.type(i)?String(t).localeCompare(String(i)):t-i:0}function et(n,t){var i,r,u,f,e=n.start,o=n.end,s=t.start,h=t.end;if(o>s&&e<h)return e>=s?(i=e.clone(),u=!0):(i=s.clone(),u=!1),o<=h?(r=o.clone(),f=!0):(r=h.clone(),f=!1),{start:i,end:r,isStart:u,isEnd:f}}function hr(n,i){return t.duration({days:n.clone().stripTime().diff(i.clone().stripTime(),"days"),ms:n.time()-i.time()})}function uf(n,i){return t.duration({days:n.clone().stripTime().diff(i.clone().stripTime(),"days")})}function cr(n,i,r){return t.duration(Math.round(n.diff(i,r,!0)),r)}function gt(n,t){for(var r,u,i=0;i<vt.length&&(r=vt[i],u=ff(r,n,t),!(u>=1&&y(u)));i++);return r}function ff(n,i,r){return null!=r?r.diff(i,n,!0):t.isDuration(i)?i.as(n):i.end.diff(i.start,n,!0)}function ef(n,t,i){var r;return k(i)?(t-n)/i:(r=i.asMonths(),Math.abs(r)>=1&&y(r)?t.diff(n,"months",!0)/r:t.diff(n,"days",!0)/i.asDays())}function ni(n,t){var i,r;return k(n)||k(t)?n/t:(i=n.asMonths(),r=t.asMonths(),Math.abs(i)>=1&&y(i)&&Math.abs(r)>=1&&y(r)?i/r:n.asDays()/t.asDays())}function of(n,i){var r;return k(n)?t.duration(n*i):(r=n.asMonths(),Math.abs(r)>=1&&y(r)?t.duration({months:r*i}):t.duration({days:n.asDays()*i}))}function k(n){return Boolean(n.hours()||n.minutes()||n.seconds()||n.milliseconds())}function sf(n){return"[object Date]"===Object.prototype.toString.call(n)||n instanceof Date}function lr(n){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(n)}function ti(n,t){var i,r,e,o,u,s,f={};if(t)for(i=0;i<t.length;i++){for(r=t[i],e=[],o=n.length-1;o>=0;o--)if(u=n[o][r],"object"==typeof u)e.unshift(u);else if(void 0!==u){f[r]=u;break}e.length&&(f[r]=ti(e))}for(i=n.length-1;i>=0;i--){s=n[i];for(r in s)r in f||(f[r]=s[r])}return f}function ot(n){var t=function(){};return t.prototype=n,new t}function ii(n,t){for(var i in n)ar(n,i)&&(t[i]=n[i])}function ar(n,t){return ee.call(n,t)}function hf(t){return/undefined|null|boolean|number|string/.test(n.type(t))}function st(t,i,r){if(n.isFunction(t)&&(t=[t]),t){for(var f,u=0;u<t.length;u++)f=t[u].apply(i,r)||f;return f}}function f(){for(var n=0;n<arguments.length;n++)if(void 0!==arguments[n])return arguments[n]}function r(n){return(n+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function ri(n){return n.replace(/&.*?;/g,"")}function ht(t){var i=[];return n.each(t,function(n,t){null!=t&&i.push(n+":"+t)}),i.join(";")}function cf(t){var i=[];return n.each(t,function(n,t){null!=t&&i.push(n+'="'+r(t)+'"')}),i.join(" ")}function vr(n){return n.charAt(0).toUpperCase()+n.slice(1)}function lf(n,t){return n-t}function y(n){return n%1==0}function d(n,t){var i=n[t];return function(){return i.apply(n,arguments)}}function ct(n,t,i){var r,u,f,o,e,s=function(){var h=+new Date-o;h<t?r=setTimeout(s,t-h):(r=null,i||(e=n.apply(f,u),f=u=null))};return function(){f=this;u=arguments;o=+new Date;var h=i&&!r;return r||(r=setTimeout(s,t)),h&&(e=n.apply(f,u),f=u=null),e}}function ui(t,i){return t&&t.then&&"resolved"!==t.state()?i?t.then(i):void 0:n.when(i())}function fi(i,r,u){var o,s,h,e,f=i[0],c=1==i.length&&"string"==typeof f;return t.isMoment(f)||sf(f)||void 0===f?e=t.apply(null,i):(o=!1,s=!1,c?oe.test(f)?(f+="-01",i=[f],o=!0,s=!0):(h=se.exec(f))&&(o=!h[5],s=!0):n.isArray(f)&&(s=!0),e=r||o?t.utc.apply(t,i):t.apply(null,i),o?(e._ambigTime=!0,e._ambigZone=!0):u&&(s?e._ambigZone=!0:c&&e.utcOffset(f))),e._fullCalendar=!0,e}function p(n,t){return a.format.call(n,t)}function af(n,t){return yr(n,oi(t))}function yr(n,t){for(var r="",i=0;i<t.length;i++)r+=ei(n,t[i]);return r}function ei(n,t){var i,r;return"string"==typeof t?t:(i=t.token)?ci[i]?ci[i](n):p(n,i):t.maybe&&(r=yr(n,t.maybe),r.match(/[1-9]/))?r:""}function pr(n,t,r,u,f){var e;return n=i.moment.parseZone(n),t=i.moment.parseZone(t),e=n.localeData(),r=e.longDateFormat(r)||r,u=u||" - ",vf(n,t,oi(r),u,f)}function vf(n,t,i,r,u){for(var f,o,s,a=n.clone().stripZone(),v=t.clone().stripZone(),y="",l="",h="",c="",p="",e=0;e<i.length&&(f=wr(n,t,a,v,i[e]),f!==!1);e++)y+=f;for(o=i.length-1;o>e&&(f=wr(n,t,a,v,i[o]),f!==!1);o--)l=f+l;for(s=e;s<=o;s++)h+=ei(n,i[s]),c+=ei(t,i[s]);return(h||c)&&(p=u?c+r+h:h+r+c),y+p+l}function wr(n,t,i,r,u){var f,e;return"string"==typeof u?u:!!((f=u.token)&&(e=he[f.charAt(0)],e&&i.isSame(r,e)))&&p(n,f)}function oi(n){return n in li?li[n]:li[n]=br(n)}function br(n){for(var t,i=[],r=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g;t=r.exec(n);)t[1]?i.push(t[1]):t[2]?i.push({maybe:br(t[2])}):t[3]?i.push({token:t[3]}):t[5]&&i.push(t[5]);return i}function s(){}function yf(n,t){var i;return ar(t,"constructor")&&(i=t.constructor),"function"!=typeof i&&(i=t.constructor=function(){n.apply(this,arguments)}),i.prototype=ot(n.prototype),ii(t,i.prototype),ii(n,i),i}function kr(n,t){ii(t,n.prototype)}function dr(n,t){return!n&&!t||!(!n||!t)&&n.component===t.component&&gr(n,t)&&gr(t,n)}function gr(n,t){for(var i in n)if(!/^(component|left|right|top|bottom)$/.test(i)&&n[i]!==t[i])return!1;return!0}function nu(n){return{start:n.start.clone(),end:n.end?n.end.clone():null,allDay:n.allDay}}function tu(n){var t=iu(n);return"background"===t||"inverse-background"===t}function pf(n){return"inverse-background"===iu(n)}function iu(n){return f((n.source||{}).rendering,n.rendering)}function wf(n){for(var i,r={},t=0;t<n.length;t++)i=n[t],(r[i._id]||(r[i._id]=[])).push(i);return r}function bf(n,t){return n.start-t.start}function kf(r){var u,f,e,s,o=i.dataAttrPrefix;return o&&(o+="-"),u=r.data(o+"event")||null,u&&(u="object"==typeof u?n.extend({},u):{},f=u.start,null==f&&(f=u.time),e=u.duration,s=u.stick,delete u.start,delete u.time,delete u.duration,delete u.stick),null==f&&(f=r.data(o+"start")),null==f&&(f=r.data(o+"time")),null==e&&(e=r.data(o+"duration")),null==s&&(s=r.data(o+"stick")),f=null!=f?t.duration(f):null,e=null!=e?t.duration(e):null,s=Boolean(s),{eventProps:u,startTime:f,duration:e,stick:s}}function df(n,t){for(var r,i=0;i<t.length;i++)if(r=t[i],r.leftCol<=n.rightCol&&r.rightCol>=n.leftCol)return!0;return!1}function gf(n,t){return n.leftCol-t.leftCol}function ne(n){for(var u,t,i=[],r=0;r<n.length;r++){for(u=n[r],t=0;t<i.length&&uu(u,i[t]).length;t++);u.level=t;(i[t]||(i[t]=[])).push(u)}return i}function te(n){for(var f,i,r,u,t=0;t<n.length;t++)for(f=n[t],i=0;i<f.length;i++)for(r=f[i],r.forwardSegs=[],u=t+1;u<n.length;u++)uu(r,n[u],r.forwardSegs)}function ru(n){var t,i,u=n.forwardSegs,r=0;if(void 0===n.forwardPressure){for(t=0;t<u.length;t++)i=u[t],ru(i),r=Math.max(r,1+i.forwardPressure);n.forwardPressure=r}}function uu(n,t,i){i=i||[];for(var r=0;r<t.length;r++)ie(n,t[r])&&i.push(t[r]);return i}function ie(n,t){return n.bottom>t.top&&n.top<t.bottom}function re(r,u){function k(n){n._locale=c}function yt(){l?v()&&(ut(),s()):pt()}function pt(){r.addClass("fc");r.on("click.fc","a[data-goto]",function(t){var s=n(this),u=s.data("goto"),o=f.moment(u.date),r=u.type,i=e.opt("navLink"+vr(r)+"Click");"function"==typeof i?i(o,t):("string"==typeof i&&(r=i),ht(o,r))});f.bindOption("theme",function(n){ki=n?"ui":"fc";r.toggleClass("ui-widget",n);r.toggleClass("fc-unthemed",!n)});f.bindOptions(["isRTL","locale"],function(n){r.toggleClass("fc-ltr",!n);r.toggleClass("fc-rtl",n)});l=n("<div class='fc-view-container'/>").prependTo(r);h=f.header=new ue(f);tt();s(f.options.defaultView);f.options.handleWindowResize&&(b=ct(kt,f.options.windowResizeDelay),n(window).resize(b))}function tt(){h.render();h.el&&r.prepend(h.el)}function wt(){e&&e.removeElement();h.removeElement();l.remove();r.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget");r.off(".fc");b&&n(window).unbind("resize",b)}function v(){return r.is(":visible")}function s(t,i){a++;e&&t&&e.type!==t&&(w(),it());!e&&t&&(e=f.view=nt[t]||(nt[t]=f.instantiateView(t)),e.setElement(n("<div class='fc-view fc-"+t+"-view' />").appendTo(l)),h.activateButton(t));e&&(o=e.massageCurrentDate(o),e.displaying&&o>=e.intervalStart&&o<e.intervalEnd||v()&&(e.display(o,i),y(),ii(),ri(),gt()));y();a--}function it(){h.deactivateButton(e.type);e.removeElement();e=f.view=null}function bt(){a++;w();var n=e.type,t=e.queryScroll();it();s(n,t);y();a--}function rt(n){if(v())return n&&ft(),a++,e.updateSize(!0),a--,!0}function ut(){v()&&ft()}function ft(){var t=f.options.contentHeight,n=f.options.height;g="number"==typeof t?t:"function"==typeof t?t():"number"==typeof n?n-d():"function"==typeof n?n()-d():"parent"===n?r.parent().height()-d():Math.round(l.width()/Math.max(f.options.aspectRatio,.5))}function d(){return h.el?h.el.outerHeight(!0):0}function kt(n){!a&&n.target===window&&e.start&&rt(!0)&&e.trigger("windowResize",at)}function et(){st()}function dt(n){nr(f.getEventSourcesByMatchArray(n))}function p(){v()&&(w(),e.displayEvents(vt),y())}function gt(){!f.options.lazyFetching||di(e.start,e.end)?st():p()}function st(){gi(e.start,e.end)}function ni(n){vt=n;p()}function ti(){p()}function ii(){h.updateTitle(e.title)}function ri(){var n=f.getNow();n>=e.intervalStart&&n<e.intervalEnd?h.disableButton("today"):h.enableButton("today")}function ui(){e.select(f.buildSelectSpan.apply(f,arguments))}function fi(){e&&e.unselect()}function ei(){o=e.computePrevDate(o);s()}function oi(){o=e.computeNextDate(o);s()}function si(){o.add(-1,"years");s()}function hi(){o.add(1,"years");s()}function ci(){o=f.getNow();s()}function li(n){o=f.moment(n).stripZone();s()}function ai(n){o.add(t.duration(n));s()}function ht(n,t){var i;t=t||"day";i=f.getViewSpec(t)||f.getUnitViewSpec(t);o=n.clone();s(i?i.type:null)}function vi(){return f.applyTimezone(o)}function w(){l.css({width:"100%",height:l.height(),overflow:"hidden"})}function y(){l.css({width:"",height:"",overflow:""})}function yi(){return f}function pi(){return e}function wi(n,t){var i;if("string"==typeof n){if(void 0===t)return f.options[n];i={};i[n]=t;lt(i)}else"object"==typeof n&&lt(n)}function lt(n){var t,i=0;for(t in n)f.dynamicOverrides[t]=n[t];f.viewSpecCache={};f.populateOptionsHash();for(t in n)f.triggerOptionHandlers(t),i++;if(1===i){if("height"===t||"contentHeight"===t||"aspectRatio"===t)return void rt(!0);if("defaultDate"===t)return;if("businessHours"===t)return void(e&&(e.unrenderBusinessHours(),e.renderBusinessHours()));if("timezone"===t)return f.rezoneArrayEventSources(),void et()}tt();nt={};bt()}function bi(n,t){var i=Array.prototype.slice.call(arguments,2);if(t=t||at,this.triggerWith(n,t,i),f.options[n])return f.options[n].apply(t,i)}var f=this,c;f.render=yt;f.destroy=wt;f.refetchEvents=et;f.refetchEventSources=dt;f.reportEvents=ni;f.reportEventChange=ti;f.rerenderEvents=p;f.changeView=s;f.select=ui;f.unselect=fi;f.prev=ei;f.next=oi;f.prevYear=si;f.nextYear=hi;f.today=ci;f.gotoDate=li;f.incrementDate=ai;f.zoomTo=ht;f.getDate=vi;f.getCalendar=yi;f.getView=pi;f.option=wi;f.trigger=bi;f.dynamicOverrides={};f.viewSpecCache={};f.optionHandlers={};f.overrides=n.extend({},u);f.populateOptionsHash();f.bindOptions(["locale","monthNames","monthNamesShort","dayNames","dayNamesShort","firstDay","weekNumberCalculation"],function(n,t,i,r,u,f,e){if("iso"===e&&(e="ISO"),c=ot(eu(n)),t&&(c._months=t),i&&(c._monthsShort=i),r&&(c._weekdays=r),u&&(c._weekdaysShort=u),null==f&&"ISO"===e&&(f=1),null!=f){var s=ot(c._week);s.dow=f;c._week=s}"ISO"!==e&&"local"!==e&&"function"!=typeof e||(c._fullCalendar_weekCalc=e);o&&k(o)});f.defaultAllDayEventDuration=t.duration(f.options.defaultAllDayEventDuration);f.defaultTimedEventDuration=t.duration(f.options.defaultTimedEventDuration);f.moment=function(){var n;return"local"===f.options.timezone?(n=i.moment.apply(null,arguments),n.hasTime()&&n.local()):n="UTC"===f.options.timezone?i.moment.utc.apply(null,arguments):i.moment.parseZone.apply(null,arguments),k(n),n};f.localizeMoment=k;f.getIsAmbigTimezone=function(){return"local"!==f.options.timezone&&"UTC"!==f.options.timezone};f.applyTimezone=function(n){if(!n.hasTime())return n.clone();var i,t=f.moment(n.toArray()),r=n.time()-t.time();return r&&(i=t.clone().add(r),n.time()-i.time()==0&&(t=i)),t};f.getNow=function(){var n=f.options.now;return"function"==typeof n&&(n=n()),f.moment(n).stripZone()};f.getEventEnd=function(n){return n.end?n.end.clone():f.getDefaultEventEnd(n.allDay,n.start)};f.getDefaultEventEnd=function(n,t){var i=t.clone();return n?i.stripTime().add(f.defaultAllDayEventDuration):i.add(f.defaultTimedEventDuration),f.getIsAmbigTimezone()&&i.stripZone(),i};f.humanizeDuration=function(n){return n.locale(f.options.locale).humanize()};fe.call(f);var h,l,ki,e,g,b,o,di=f.isFetchNeeded,gi=f.fetchEvents,nr=f.fetchEventSources,at=r[0],nt={},a=0,vt=[];o=null!=f.options.defaultDate?f.moment(f.options.defaultDate).stripZone():f.getNow();f.getSuggestedViewHeight=function(){return void 0===g&&ut(),g};f.isHeightAuto=function(){return"auto"===f.options.contentHeight||"auto"===f.options.height};f.freezeContentHeight=w;f.unfreezeContentHeight=y;f.initialize()}function fu(t){n.each(pe,function(n,i){null==t[n]&&(t[n]=i(t))})}function eu(n){return t.localeData(n)||t.localeData("en")}function ue(t){function h(){var r=t.options,f=r.header;i=r.theme?"ui":"fc";f?(u?u.empty():u=this.el=n("<div class='fc-toolbar'/>"),u.append(e("left")).append(e("right")).append(e("center")).append('<div class="fc-clear"/>')):s()}function s(){u&&(u.remove(),u=f.el=null)}function e(u){var e=n('<div class="fc-'+u+'"/>'),f=t.options,s=f.header[u];return s&&n.each(s.split(" "),function(){var s,u=n(),h=!0;n.each(this.split(","),function(e,s){var l,p,a,v,y,w,b,k,d,c;"title"==s?(u=u.add(n("<h2>&nbsp;<\/h2>")),h=!1):((l=(f.customButtons||{})[s])?(a=function(n){l.click&&l.click.call(c[0],n)},v="",y=l.text):(p=t.getViewSpec(s))?(a=function(){t.changeView(s)},o.push(s),v=p.buttonTextOverride,y=p.buttonTextDefault):t[s]&&(a=function(){t[s]()},v=(t.overrides.buttonText||{})[s],y=f.buttonText[s]),a&&(w=l?l.themeIcon:f.themeButtonIcons[s],b=l?l.icon:f.buttonIcons[s],k=v?r(v):w&&f.theme?"<span class='ui-icon ui-icon-"+w+"'><\/span>":b&&!f.theme?"<span class='fc-icon fc-icon-"+b+"'><\/span>":r(y),d=["fc-"+s+"-button",i+"-button",i+"-state-default"],c=n('<button type="button" class="'+d.join(" ")+'">'+k+"<\/button>").click(function(n){c.hasClass(i+"-state-disabled")||(a(n),(c.hasClass(i+"-state-active")||c.hasClass(i+"-state-disabled"))&&c.removeClass(i+"-state-hover"))}).mousedown(function(){c.not("."+i+"-state-active").not("."+i+"-state-disabled").addClass(i+"-state-down")}).mouseup(function(){c.removeClass(i+"-state-down")}).hover(function(){c.not("."+i+"-state-active").not("."+i+"-state-disabled").addClass(i+"-state-hover")},function(){c.removeClass(i+"-state-hover").removeClass(i+"-state-down")}),u=u.add(c)))});h&&u.first().addClass(i+"-corner-left").end().last().addClass(i+"-corner-right").end();u.length>1?(s=n("<div/>"),h&&s.addClass("fc-button-group"),s.append(u),e.append(s)):e.append(u)}),e}function c(n){u&&u.find("h2").text(n)}function l(n){u&&u.find(".fc-"+n+"-button").addClass(i+"-state-active")}function a(n){u&&u.find(".fc-"+n+"-button").removeClass(i+"-state-active")}function v(n){u&&u.find(".fc-"+n+"-button").prop("disabled",!0).addClass(i+"-state-disabled")}function y(n){u&&u.find(".fc-"+n+"-button").prop("disabled",!1).removeClass(i+"-state-disabled")}function p(){return o}var f=this,u,i,o;f.render=h;f.removeElement=s;f.updateTitle=c;f.activateButton=l;f.deactivateButton=a;f.disableButton=v;f.enableButton=y;f.getViewsWithButtons=p;f.el=null;o=[]}function fe(){function ct(n,t){return!o||n<o||t>s}function at(n,t){o=n;s=t;a(e,"reset")}function a(n,t){var i,r;for("reset"===t?u=[]:"add"!==t&&(u=rt(u,n)),i=0;i<n.length;i++)r=n[i],"pending"!==r._status&&b++,r._fetchId=(r._fetchId||0)+1,r._status="pending";for(i=0;i<n.length;i++)r=n[i],vt(r,r._fetchId)}function vt(t,i){d(t,function(r){var f,e,o,s=n.isArray(t.events);if(i===t._fetchId&&"rejected"!==t._status){if(t._status="resolved",r)for(f=0;f<r.length;f++)e=r[f],o=s?e:l(e,t),o&&u.push.apply(u,p(o));k()}})}function yt(n){var t="pending"===n._status;n._status="rejected";t&&k()}function k(){b--;b||c(u)}function d(t,u){for(var c,a=i.sourceFetchers,e,v,h=0;h<a.length;h++){if(c=a[h].call(r,t,o.clone(),s.clone(),r.options.timezone,u),c===!0)return;if("object"==typeof c)return void d(c,u)}if(e=t.events,e)n.isFunction(e)?(r.pushLoading(),e.call(r,o.clone(),s.clone(),r.options.timezone,function(n){u(n);r.popLoading()})):n.isArray(e)?u(e):u();else if(v=t.url,v){var y,b=t.success,k=t.error,g=t.complete;y=n.isFunction(t.data)?t.data():t.data;var l=n.extend({},y||{}),p=f(t.startParam,r.options.startParam),w=f(t.endParam,r.options.endParam),nt=f(t.timezoneParam,r.options.timezoneParam);p&&(l[p]=o.format());w&&(l[w]=s.format());r.options.timezone&&"local"!=r.options.timezone&&(l[nt]=r.options.timezone);r.pushLoading();n.ajax(n.extend({},cu,t,{data:l,success:function(t){t=t||[];var i=st(b,this,arguments);n.isArray(i)&&(t=i);u(t)},error:function(){st(k,this,arguments);u()},complete:function(){st(g,this,arguments);r.popLoading()}}))}else u()}function pt(n){var t=g(n);t&&(e.push(t),a([t],"add"))}function g(t){var u,f,e=i.sourceNormalizers;if(n.isFunction(t)||n.isArray(t)?u={events:t}:"string"==typeof t?u={url:t}:"object"==typeof t&&(u=n.extend({},t)),u){for(u.className?"string"==typeof u.className&&(u.className=u.className.split(/\s+/)):u.className=[],n.isArray(u.events)&&(u.origArray=u.events,u.events=n.map(u.events,function(n){return l(n,u)})),f=0;f<e.length;f++)e[f].call(r,u);return u}}function wt(n){v(y(n))}function bt(n){null==n?v(e,!0):v(tt(n))}function v(t,i){for(var r=0;r<t.length;r++)yt(t[r]);i?(e=[],u=[]):(e=n.grep(e,function(n){for(r=0;r<t.length;r++)if(n===t[r])return!1;return!0}),u=rt(u,t));c(u)}function kt(){return e.slice(1)}function nt(t){return n.grep(e,function(n){return n.id&&n.id===t})[0]}function tt(t){t?n.isArray(t)||(t=[t]):t=[];for(var r=[],i=0;i<t.length;i++)r.push.apply(r,y(t[i]));return r}function y(t){for(var i,r=0;r<e.length;r++)if(i=e[r],i===t)return[i];return i=nt(t),i?[i]:n.grep(e,function(n){return dt(t,n)})}function dt(n,t){return n&&t&&it(n)==it(t)}function it(n){return("object"==typeof n?n.origArray||n.googleCalendarId||n.url||n.events:null)||n}function rt(t,i){return n.grep(t,function(n){for(var t=0;t<i.length;t++)if(n.source===i[t])return!1;return!0})}function gt(n){n.start=r.moment(n.start);n.end=n.end?r.moment(n.end):null;ht(n,ni(n));c(u)}function ni(t){var i={};return n.each(t,function(n,t){ut(n)&&void 0!==t&&hf(t)&&(i[n]=t)}),i}function ut(n){return!/^_|^(id|allDay|start|end)$/.test(n)}function ti(n,t){var r,f,i,e=l(n);if(e){for(r=p(e),f=0;f<r.length;f++)i=r[f],i.source||(t&&(w.events.push(i),i.source=w),u.push(i));return c(u),r}return[]}function ii(t){var r,i;for(null==t?t=function(){return!0}:n.isFunction(t)||(r=t+"",t=function(n){return n._id==r}),u=n.grep(u,t,!0),i=0;i<e.length;i++)n.isArray(e[i].events)&&(e[i].events=n.grep(e[i].events,t,!0));c(u)}function ft(t){return n.isFunction(t)?n.grep(u,t):null!=t?(t+="",n.grep(u,function(n){return n._id==t})):u}function ri(n){n.start=r.moment(n.start);n.end&&(n.end=r.moment(n.end));lt(n)}function l(i,u){var o,e,h,s={};if(r.options.eventDataTransform&&(i=r.options.eventDataTransform(i)),u&&u.eventDataTransform&&(i=u.eventDataTransform(i)),n.extend(s,i),u&&(s.source=u),s._id=i._id||(void 0===i.id?"_fc"+lu++:i.id+""),s.className=i.className?"string"==typeof i.className?i.className.split(/\s+/):i.className:[],o=i.start||i.date,e=i.end,lr(o)&&(o=t.duration(o)),lr(e)&&(e=t.duration(e)),i.dow||t.isDuration(o)||t.isDuration(e))s.start=o?t.duration(o):null,s.end=e?t.duration(e):null,s._recurring=!0;else{if(o&&(o=r.moment(o),!o.isValid()))return!1;e&&(e=r.moment(e),e.isValid()||(e=null));h=i.allDay;void 0===h&&(h=f(u?u.allDayDefault:void 0,r.options.allDayDefault));et(o,e,h,s)}return r.normalizeEvent(s),s}function et(n,t,i,r){r.start=n;r.end=t;r.allDay=i;h(r);lt(r)}function h(n){ot(n);n.end&&!n.end.isAfter(n.start)&&(n.end=null);n.end||(n.end=r.options.forceEventDuration?r.getDefaultEventEnd(n.allDay,n.start):null)}function ot(n){null==n.allDay&&(n.allDay=!(n.start.hasTime()||n.end&&n.end.hasTime()));n.allDay?(n.start.stripTime(),n.end&&n.end.stripTime()):(n.start.hasTime()||(n.start=r.applyTimezone(n.start.time(0))),n.end&&!n.end.hasTime()&&(n.end=r.applyTimezone(n.end.time(0))))}function p(t,i,r){var f,a,e,u,h,c,l,v,y,p=[];if(i=i||o,r=r||s,t)if(t._recurring){if(a=t.dow)for(f={},e=0;e<a.length;e++)f[a[e]]=!0;for(u=i.clone().stripTime();u.isBefore(r);)f&&!f[u.day()]||(h=t.start,c=t.end,l=u.clone(),v=null,h&&(l=l.time(h)),c&&(v=u.clone().time(c)),y=n.extend({},t),et(l,v,!h&&!c,y),p.push(y)),u.add(1,"days")}else p.push(t);return p}function ht(t,i,u){function s(n,t){return u?cr(n,t,u):i.allDay?uf(n,t):hr(n,t)}var f,c,e,l,o,a,v={};return i=i||{},i.start||(i.start=t.start.clone()),void 0===i.end&&(i.end=t.end?t.end.clone():null),null==i.allDay&&(i.allDay=t.allDay),h(i),f={start:t._start.clone(),end:t._end?t._end.clone():r.getDefaultEventEnd(t._allDay,t._start),allDay:i.allDay},h(f),c=null!==t._end&&null===i.end,e=s(i.start,f.start),i.end?(l=s(i.end,f.end),o=l.subtract(e)):o=null,n.each(i,function(n,t){ut(n)&&void 0!==t&&(v[n]=t)}),a=ui(ft(t._id),c,i.allDay,e,o,v),{dateDelta:e,durationDelta:o,undo:a}}function ui(t,i,u,f,e,o){var c=r.getIsAmbigTimezone(),s=[];return f&&!f.valueOf()&&(f=null),e&&!e.valueOf()&&(e=null),n.each(t,function(t,l){var v,a;v={start:l.start.clone(),end:l.end?l.end.clone():null,allDay:l.allDay};n.each(o,function(n){v[n]=l[n]});a={start:l._start,end:l._end,allDay:u};h(a);i?a.end=null:e&&!a.end&&(a.end=r.getDefaultEventEnd(a.allDay,a.start));f&&(a.start.add(f),a.end&&a.end.add(f));e&&a.end.add(e);c&&!a.allDay&&(f||e)&&(a.start.stripZone(),a.end&&a.end.stripZone());n.extend(l,o,a);lt(l);s.push(function(){n.extend(l,v);lt(l)})}),function(){for(var n=0;n<s.length;n++)s[n]()}}var r=this;r.isFetchNeeded=ct;r.fetchEvents=at;r.fetchEventSources=a;r.getEventSources=kt;r.getEventSourceById=nt;r.getEventSourcesByMatchArray=tt;r.getEventSourcesByMatch=y;r.addEventSource=pt;r.removeEventSource=wt;r.removeEventSources=bt;r.updateEvent=gt;r.renderEvent=ti;r.removeEvents=ii;r.clientEvents=ft;r.mutateEvent=ht;r.normalizeEventDates=h;r.normalizeEventTimes=ot;var o,s,c=r.reportEvents,w={events:[]},e=[w],b=0,u=[];n.each((r.options.events?[r.options.events]:[]).concat(r.options.eventSources||[]),function(n,t){var i=g(t);i&&e.push(i)});r.rezoneArrayEventSources=function(){for(var i,r,t=0;t<e.length;t++)if(i=e[t].events,n.isArray(i))for(r=0;r<i.length;r++)ri(i[r])};r.buildEventFromInput=l;r.expandEvent=p;r.getEventCache=function(){return u}}function lt(n){n._allDay=n.allDay;n._start=n.start.clone();n._end=n.end?n.end.clone():null}var i=n.fullCalendar={version:"3.0.1",internalApiVersion:6},e=i.views={},ou,at,si,vt,ci,ai,it,vi,b,cu,lu,pi,vu,yu;n.fn.fullCalendar=function(t){var r=Array.prototype.slice.call(arguments,1),i=this;return this.each(function(f,e){var h,s=n(e),o=s.data("fullCalendar");"string"==typeof t?o&&n.isFunction(o[t])&&(h=o[t].apply(o,r),f||(i=h),"destroy"===t&&s.removeData("fullCalendar")):o||(o=new u(s,t),s.data("fullCalendar",o),o.render())}),i};ou=["header","buttonText","buttonIcons","themeButtonIcons"];i.intersectRanges=et;i.applyAll=st;i.debounce=ct;i.isInt=y;i.htmlEscape=r;i.cssToStr=ht;i.proxy=d;i.capitaliseFirstLetter=vr;i.getOuterRect=kt;i.getClientRect=tr;i.getContentRect=pu;i.getScrollbarWidths=dt;at=null;i.preventDefault=ft;i.intersectRects=ur;i.parseFieldSpecs=fr;i.compareByFieldSpecs=er;i.compareByFieldSpec=or;i.flexibleCompare=sr;i.computeIntervalUnit=gt;i.divideRangeByDuration=ef;i.divideDurationByDuration=ni;i.multiplyDuration=of;i.durationHasTime=k;si=["sun","mon","tue","wed","thu","fri","sat"];vt=["year","month","week","day","hour","minute","second","millisecond"];i.log=function(){var n=window.console;if(n&&n.log)return n.log.apply(n,arguments)};i.warn=function(){var n=window.console;return n&&n.warn?n.warn.apply(n,arguments):i.log.apply(i,arguments)};var ee={}.hasOwnProperty,oe=/^\s*\d{4}-\d\d$/,se=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,o=t.fn,a=n.extend({},o),hi=t.momentProperties;hi.push("_fullCalendar");hi.push("_ambigTime");hi.push("_ambigZone");i.moment=function(){return fi(arguments)};i.moment.utc=function(){var n=fi(arguments,!0);return n.hasTime()&&n.utc(),n};i.moment.parseZone=function(){return fi(arguments,!0,!0)};o.week=o.weeks=function(n){var t=this._locale._fullCalendar_weekCalc;return null==n&&"function"==typeof t?t(this):"ISO"===t?a.isoWeek.apply(this,arguments):a.week.apply(this,arguments)};o.time=function(n){if(!this._fullCalendar)return a.time.apply(this,arguments);if(null==n)return t.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});this._ambigTime=!1;t.isDuration(n)||t.isMoment(n)||(n=t.duration(n));var i=0;return t.isDuration(n)&&(i=24*Math.floor(n.asDays())),this.hours(i+n.hours()).minutes(n.minutes()).seconds(n.seconds()).milliseconds(n.milliseconds())};o.stripTime=function(){return this._ambigTime||(this.utc(!0),this.set({hours:0,minutes:0,seconds:0,ms:0}),this._ambigTime=!0,this._ambigZone=!0),this};o.hasTime=function(){return!this._ambigTime};o.stripZone=function(){var n;return this._ambigZone||(n=this._ambigTime,this.utc(!0),this._ambigTime=n||!1,this._ambigZone=!0),this};o.hasZone=function(){return!this._ambigZone};o.local=function(n){return a.local.call(this,this._ambigZone||n),this._ambigTime=!1,this._ambigZone=!1,this};o.utc=function(n){return a.utc.call(this,n),this._ambigTime=!1,this._ambigZone=!1,this};o.utcOffset=function(n){return null!=n&&(this._ambigTime=!1,this._ambigZone=!1),a.utcOffset.apply(this,arguments)};o.format=function(){return this._fullCalendar&&arguments[0]?af(this,arguments[0]):this._ambigTime?p(this,"YYYY-MM-DD"):this._ambigZone?p(this,"YYYY-MM-DD[T]HH:mm:ss"):a.format.apply(this,arguments)};o.toISOString=function(){return this._ambigTime?p(this,"YYYY-MM-DD"):this._ambigZone?p(this,"YYYY-MM-DD[T]HH:mm:ss"):a.toISOString.apply(this,arguments)};ci={t:function(n){return p(n,"a").charAt(0)},T:function(n){return p(n,"A").charAt(0)}};i.formatRange=pr;var he={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"},li={},ce={Y:{value:1,unit:"year"},M:{value:2,unit:"month"},W:{value:3,unit:"week"},w:{value:3,unit:"week"},D:{value:4,unit:"day"},d:{value:4,unit:"day"}};i.queryMostGranularFormatUnit=function(n){for(var u,r,t,f=oi(n),i=0;i<f.length;i++)u=f[i],u.token&&(r=ce[u.token.charAt(0)],r&&(!t||r.value>t.value)&&(t=r));return t?t.unit:null};i.Class=s;s.extend=function(){for(var t,i=arguments.length,n=0;n<i;n++)t=arguments[n],n<i-1&&kr(this,t);return yf(this,t||{})};s.mixin=function(n){kr(this,n)};var su=i.EmitterMixin={on:function(t,i){var r=function(n,t){return i.apply(t.context||this,t.args||[])};return i.guid||(i.guid=n.guid++),r.guid=i.guid,n(this).on(t,r),this},off:function(t,i){return n(this).off(t,i),this},trigger:function(t){var i=Array.prototype.slice.call(arguments,1);return n(this).triggerHandler(t,{args:i}),this},triggerWith:function(t,i,r){return n(this).triggerHandler(t,{context:i,args:r}),this}},tt=i.ListenerMixin=function(){var t=0;return{listenerId:null,listenTo:function(t,i,r){if("object"==typeof i)for(var u in i)i.hasOwnProperty(u)&&this.listenTo(t,u,i[u]);else"string"==typeof i&&t.on(i+"."+this.getListenerNamespace(),n.proxy(r,this))},stopListeningTo:function(n,t){n.off((t||"")+"."+this.getListenerNamespace())},getListenerNamespace:function(){return null==this.listenerId&&(this.listenerId=t++),"_listener"+this.listenerId}}}(),hu={isIgnoringMouse:!1,delayUnignoreMouse:null,initMouseIgnoring:function(n){this.delayUnignoreMouse=ct(d(this,"unignoreMouse"),n||1e3)},tempIgnoreMouse:function(){this.isIgnoringMouse=!0;this.delayUnignoreMouse()},unignoreMouse:function(){this.isIgnoringMouse=!1}},le=s.extend(tt,{isHidden:!0,options:null,el:null,margin:10,constructor:function(n){this.options=n||{}},show:function(){this.isHidden&&(this.el||this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},hide:function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},render:function(){var i=this,t=this.options;this.el=n('<div class="fc-popover"/>').addClass(t.className||"").css({top:0,left:0}).append(t.content).appendTo(t.parentEl);this.el.on("click",".fc-close",function(){i.hide()});t.autoHide&&this.listenTo(n(document),"mousedown",this.documentMousedown)},documentMousedown:function(t){this.el&&!n(t.target).closest(this.el).length&&this.hide()},removeElement:function(){this.hide();this.el&&(this.el.remove(),this.el=null);this.stopListeningTo(n(document),"mousedown")},position:function(){var f,e,o,t,i,r=this.options,h=this.el.offsetParent().offset(),c=this.el.outerWidth(),l=this.el.outerHeight(),s=n(window),u=bt(this.el);t=r.top||0;i=void 0!==r.left?r.left:void 0!==r.right?r.right-c:0;u.is(window)||u.is(document)?(u=s,f=0,e=0):(o=u.offset(),f=o.top,e=o.left);f+=s.scrollTop();e+=s.scrollLeft();r.viewportConstrain!==!1&&(t=Math.min(t,f+u.outerHeight()-l-this.margin),t=Math.max(t,f+this.margin),i=Math.min(i,e+u.outerWidth()-c-this.margin),i=Math.max(i,e+this.margin));this.el.css({top:t-h.top,left:i-h.left})},trigger:function(n){this.options[n]&&this.options[n].apply(this,Array.prototype.slice.call(arguments,1))}}),yt=i.CoordCache=s.extend({els:null,forcedOffsetParentEl:null,origin:null,boundingRect:null,isHorizontal:!1,isVertical:!1,lefts:null,rights:null,tops:null,bottoms:null,constructor:function(t){this.els=n(t.els);this.isHorizontal=t.isHorizontal;this.isVertical=t.isVertical;this.forcedOffsetParentEl=t.offsetParent?n(t.offsetParent):null},build:function(){var n=this.forcedOffsetParentEl||this.els.eq(0).offsetParent();this.origin=n.offset();this.boundingRect=this.queryBoundingRect();this.isHorizontal&&this.buildElHorizontals();this.isVertical&&this.buildElVerticals()},clear:function(){this.origin=null;this.boundingRect=null;this.lefts=null;this.rights=null;this.tops=null;this.bottoms=null},ensureBuilt:function(){this.origin||this.build()},buildElHorizontals:function(){var t=[],i=[];this.els.each(function(r,u){var f=n(u),e=f.offset().left,o=f.outerWidth();t.push(e);i.push(e+o)});this.lefts=t;this.rights=i},buildElVerticals:function(){var t=[],i=[];this.els.each(function(r,u){var f=n(u),e=f.offset().top,o=f.outerHeight();t.push(e);i.push(e+o)});this.tops=t;this.bottoms=i},getHorizontalIndex:function(n){this.ensureBuilt();for(var i=this.lefts,r=this.rights,u=i.length,t=0;t<u;t++)if(n>=i[t]&&n<r[t])return t},getVerticalIndex:function(n){this.ensureBuilt();for(var i=this.tops,r=this.bottoms,u=i.length,t=0;t<u;t++)if(n>=i[t]&&n<r[t])return t},getLeftOffset:function(n){return this.ensureBuilt(),this.lefts[n]},getLeftPosition:function(n){return this.ensureBuilt(),this.lefts[n]-this.origin.left},getRightOffset:function(n){return this.ensureBuilt(),this.rights[n]},getRightPosition:function(n){return this.ensureBuilt(),this.rights[n]-this.origin.left},getWidth:function(n){return this.ensureBuilt(),this.rights[n]-this.lefts[n]},getTopOffset:function(n){return this.ensureBuilt(),this.tops[n]},getTopPosition:function(n){return this.ensureBuilt(),this.tops[n]-this.origin.top},getBottomOffset:function(n){return this.ensureBuilt(),this.bottoms[n]},getBottomPosition:function(n){return this.ensureBuilt(),this.bottoms[n]-this.origin.top},getHeight:function(n){return this.ensureBuilt(),this.bottoms[n]-this.tops[n]},queryBoundingRect:function(){var n=bt(this.els.eq(0));if(!n.is(document))return tr(n)},isPointInBounds:function(n,t){return this.isLeftInBounds(n)&&this.isTopInBounds(t)},isLeftInBounds:function(n){return!this.boundingRect||n>=this.boundingRect.left&&n<this.boundingRect.right},isTopInBounds:function(n){return!this.boundingRect||n>=this.boundingRect.top&&n<this.boundingRect.bottom}}),h=i.DragListener=s.extend(tt,hu,{options:null,subjectEl:null,originX:null,originY:null,scrollEl:null,isInteracting:!1,isDistanceSurpassed:!1,isDelayEnded:!1,isDragging:!1,isTouch:!1,delay:null,delayTimeoutId:null,minDistance:null,handleTouchScrollProxy:null,constructor:function(n){this.options=n||{};this.handleTouchScrollProxy=d(this,"handleTouchScroll");this.initMouseIgnoring(500)},startInteraction:function(t,i){var r=rr(t);if("mousedown"===t.type){if(this.isIgnoringMouse)return;if(!ir(t))return;t.preventDefault()}this.isInteracting||(i=i||{},this.delay=f(i.delay,this.options.delay,0),this.minDistance=f(i.distance,this.options.distance,0),this.subjectEl=this.options.subjectEl,this.isInteracting=!0,this.isTouch=r,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.originX=c(t),this.originY=l(t),this.scrollEl=bt(n(t.target)),this.bindHandlers(),this.initAutoScroll(),this.handleInteractionStart(t),this.startDelay(t),this.minDistance||this.handleDistanceSurpassed(t))},handleInteractionStart:function(n){this.trigger("interactionStart",n)},endInteraction:function(n,t){this.isInteracting&&(this.endDrag(n),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null),this.destroyAutoScroll(),this.unbindHandlers(),this.isInteracting=!1,this.handleInteractionEnd(n,t),this.isTouch&&this.tempIgnoreMouse())},handleInteractionEnd:function(n,t){this.trigger("interactionEnd",n,t||!1)},bindHandlers:function(){var i=this,t=1;this.isTouch?(this.listenTo(n(document),{touchmove:this.handleTouchMove,touchend:this.endInteraction,touchcancel:this.endInteraction,touchstart:function(n){t?t--:i.endInteraction(n,!0)}}),!du(this.handleTouchScrollProxy)&&this.scrollEl&&this.listenTo(this.scrollEl,"scroll",this.handleTouchScroll)):this.listenTo(n(document),{mousemove:this.handleMouseMove,mouseup:this.endInteraction});this.listenTo(n(document),{selectstart:ft,contextmenu:ft})},unbindHandlers:function(){this.stopListeningTo(n(document));gu(this.handleTouchScrollProxy);this.scrollEl&&this.stopListeningTo(this.scrollEl,"scroll")},startDrag:function(n,t){this.startInteraction(n,t);this.isDragging||(this.isDragging=!0,this.handleDragStart(n))},handleDragStart:function(n){this.trigger("dragStart",n)},handleMove:function(n){var r,t=c(n)-this.originX,i=l(n)-this.originY,u=this.minDistance;this.isDistanceSurpassed||(r=t*t+i*i,r>=u*u&&this.handleDistanceSurpassed(n));this.isDragging&&this.handleDrag(t,i,n)},handleDrag:function(n,t,i){this.trigger("drag",n,t,i);this.updateAutoScroll(i)},endDrag:function(n){this.isDragging&&(this.isDragging=!1,this.handleDragEnd(n))},handleDragEnd:function(n){this.trigger("dragEnd",n)},startDelay:function(n){var t=this;this.delay?this.delayTimeoutId=setTimeout(function(){t.handleDelayEnd(n)},this.delay):this.handleDelayEnd(n)},handleDelayEnd:function(n){this.isDelayEnded=!0;this.isDistanceSurpassed&&this.startDrag(n)},handleDistanceSurpassed:function(n){this.isDistanceSurpassed=!0;this.isDelayEnded&&this.startDrag(n)},handleTouchMove:function(n){this.isDragging&&n.preventDefault();this.handleMove(n)},handleMouseMove:function(n){this.handleMove(n)},handleTouchScroll:function(n){this.isDragging||this.endInteraction(n,!0)},trigger:function(n){this.options[n]&&this.options[n].apply(this,Array.prototype.slice.call(arguments,1));this["_"+n]&&this["_"+n].apply(this,Array.prototype.slice.call(arguments,1))}});h.mixin({isAutoScroll:!1,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,initAutoScroll:function(){var n=this.scrollEl;this.isAutoScroll=this.options.scroll&&n&&!n.is(window)&&!n.is(document);this.isAutoScroll&&this.listenTo(n,"scroll",ct(this.handleDebouncedScroll,100))},destroyAutoScroll:function(){this.endAutoScroll();this.isAutoScroll&&this.stopListeningTo(this.scrollEl,"scroll")},computeScrollBounds:function(){this.isAutoScroll&&(this.scrollBounds=kt(this.scrollEl))},updateAutoScroll:function(n){var r,u,f,e,t=this.scrollSensitivity,i=this.scrollBounds,o=0,s=0;i&&(r=(t-(l(n)-i.top))/t,u=(t-(i.bottom-l(n)))/t,f=(t-(c(n)-i.left))/t,e=(t-(i.right-c(n)))/t,r>=0&&r<=1?o=r*this.scrollSpeed*-1:u>=0&&u<=1&&(o=u*this.scrollSpeed),f>=0&&f<=1?s=f*this.scrollSpeed*-1:e>=0&&e<=1&&(s=e*this.scrollSpeed));this.setScrollVel(o,s)},setScrollVel:function(n,t){this.scrollTopVel=n;this.scrollLeftVel=t;this.constrainScrollVel();!this.scrollTopVel&&!this.scrollLeftVel||this.scrollIntervalId||(this.scrollIntervalId=setInterval(d(this,"scrollIntervalFunc"),this.scrollIntervalMs))},constrainScrollVel:function(){var n=this.scrollEl;this.scrollTopVel<0?n.scrollTop()<=0&&(this.scrollTopVel=0):this.scrollTopVel>0&&n.scrollTop()+n[0].clientHeight>=n[0].scrollHeight&&(this.scrollTopVel=0);this.scrollLeftVel<0?n.scrollLeft()<=0&&(this.scrollLeftVel=0):this.scrollLeftVel>0&&n.scrollLeft()+n[0].clientWidth>=n[0].scrollWidth&&(this.scrollLeftVel=0)},scrollIntervalFunc:function(){var n=this.scrollEl,t=this.scrollIntervalMs/1e3;this.scrollTopVel&&n.scrollTop(n.scrollTop()+this.scrollTopVel*t);this.scrollLeftVel&&n.scrollLeft(n.scrollLeft()+this.scrollLeftVel*t);this.constrainScrollVel();this.scrollTopVel||this.scrollLeftVel||this.endAutoScroll()},endAutoScroll:function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.handleScrollEnd())},handleDebouncedScroll:function(){this.scrollIntervalId||this.handleScrollEnd()},handleScrollEnd:function(){}});var pt=h.extend({component:null,origHit:null,hit:null,coordAdjust:null,constructor:function(n,t){h.call(this,t);this.component=n},handleInteractionStart:function(n){var i,r,t,u=this.subjectEl;this.computeCoords();n?(r={left:c(n),top:l(n)},t=r,u&&(i=kt(u),t=nf(t,i)),this.origHit=this.queryHit(t.left,t.top),u&&this.options.subjectCenter&&(this.origHit&&(i=ur(this.origHit,i)||i),t=tf(i)),this.coordAdjust=rf(t,r)):(this.origHit=null,this.coordAdjust=null);h.prototype.handleInteractionStart.apply(this,arguments)},computeCoords:function(){this.component.prepareHits();this.computeScrollBounds()},handleDragStart:function(n){var t;h.prototype.handleDragStart.apply(this,arguments);t=this.queryHit(c(n),l(n));t&&this.handleHitOver(t)},handleDrag:function(n,t,i){var r;h.prototype.handleDrag.apply(this,arguments);r=this.queryHit(c(i),l(i));dr(r,this.hit)||(this.hit&&this.handleHitOut(),r&&this.handleHitOver(r))},handleDragEnd:function(){this.handleHitDone();h.prototype.handleDragEnd.apply(this,arguments)},handleHitOver:function(n){var t=dr(n,this.origHit);this.hit=n;this.trigger("hitOver",this.hit,t,this.origHit)},handleHitOut:function(){this.hit&&(this.trigger("hitOut",this.hit),this.handleHitDone(),this.hit=null)},handleHitDone:function(){this.hit&&this.trigger("hitDone",this.hit)},handleInteractionEnd:function(){h.prototype.handleInteractionEnd.apply(this,arguments);this.origHit=null;this.hit=null;this.component.releaseHits()},handleScrollEnd:function(){h.prototype.handleScrollEnd.apply(this,arguments);this.computeCoords()},queryHit:function(n,t){return this.coordAdjust&&(n+=this.coordAdjust.left,t+=this.coordAdjust.top),this.component.queryHit(n,t)}}),ae=s.extend(tt,{options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,y0:null,x0:null,topDelta:null,leftDelta:null,isFollowing:!1,isHidden:!1,isAnimating:!1,constructor:function(t,i){this.options=i=i||{};this.sourceEl=t;this.parentEl=i.parentEl?n(i.parentEl):t.parent()},start:function(t){this.isFollowing||(this.isFollowing=!0,this.y0=l(t),this.x0=c(t),this.topDelta=0,this.leftDelta=0,this.isHidden||this.updatePosition(),rr(t)?this.listenTo(n(document),"touchmove",this.handleMove):this.listenTo(n(document),"mousemove",this.handleMove))},stop:function(t,i){function u(){r.isAnimating=!1;r.removeElement();r.top0=r.left0=null;i&&i()}var r=this,f=this.options.revertDuration;this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,this.stopListeningTo(n(document)),t&&f&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:f,complete:u})):u())},getEl:function(){var n=this.el;return n||(n=this.el=this.sourceEl.clone().addClass(this.options.additionalClass||"").css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex}),n.addClass("fc-unselectable"),n.appendTo(this.parentEl)),n},removeElement:function(){this.el&&(this.el.remove(),this.el=null)},updatePosition:function(){var n,t;this.getEl();null===this.top0&&(n=this.sourceEl.offset(),t=this.el.offsetParent().offset(),this.top0=n.top-t.top,this.left0=n.left-t.left);this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},handleMove:function(n){this.topDelta=l(n)-this.y0;this.leftDelta=c(n)-this.x0;this.isHidden||this.updatePosition()},hide:function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},show:function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())}}),v=i.Grid=s.extend(tt,hu,{hasDayInteractions:!0,view:null,isRTL:null,start:null,end:null,el:null,elsByFill:null,eventTimeFormat:null,displayEventTime:null,displayEventEnd:null,minResizeDuration:null,largeUnit:null,dayDragListener:null,segDragListener:null,segResizeListener:null,externalDragListener:null,constructor:function(n){this.view=n;this.isRTL=n.opt("isRTL");this.elsByFill={};this.dayDragListener=this.buildDayDragListener();this.initMouseIgnoring()},computeEventTimeFormat:function(){return this.view.opt("smallTimeFormat")},computeDisplayEventTime:function(){return!0},computeDisplayEventEnd:function(){return!0},setRange:function(n){this.start=n.start.clone();this.end=n.end.clone();this.rangeUpdated();this.processRangeOptions()},rangeUpdated:function(){},processRangeOptions:function(){var n,t,i=this.view;this.eventTimeFormat=i.opt("eventTimeFormat")||i.opt("timeFormat")||this.computeEventTimeFormat();n=i.opt("displayEventTime");null==n&&(n=this.computeDisplayEventTime());t=i.opt("displayEventEnd");null==t&&(t=this.computeDisplayEventEnd());this.displayEventTime=n;this.displayEventEnd=t},spanToSegs:function(){},diffDates:function(n,t){return this.largeUnit?cr(n,t,this.largeUnit):hr(n,t)},prepareHits:function(){},releaseHits:function(){},queryHit:function(){},getHitSpan:function(){},getHitEl:function(){},setElement:function(n){this.el=n;this.hasDayInteractions&&(ku(n),this.bindDayHandler("touchstart",this.dayTouchStart),this.bindDayHandler("mousedown",this.dayMousedown));this.bindSegHandlers();this.bindGlobalHandlers()},bindDayHandler:function(t,i){var r=this;this.el.on(t,function(t){if(!n(t.target).is(r.segSelector+","+r.segSelector+" *,.fc-more,a[data-goto]"))return i.call(r,t)})},removeElement:function(){this.unbindGlobalHandlers();this.clearDragListeners();this.el.remove()},renderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},bindGlobalHandlers:function(){this.listenTo(n(document),{dragstart:this.externalDragStart,sortstart:this.externalDragStart})},unbindGlobalHandlers:function(){this.stopListeningTo(n(document))},dayMousedown:function(n){this.isIgnoringMouse||this.dayDragListener.startInteraction(n,{})},dayTouchStart:function(n){var t=this.view;(t.isSelected||t.selectedEvent)&&this.tempIgnoreMouse();this.dayDragListener.startInteraction(n,{delay:this.view.opt("longPressDelay")})},buildDayDragListener:function(){var i,n,t=this,r=this.view,f=r.opt("selectable"),u=new pt(this,{scroll:r.opt("dragScroll"),interactionStart:function(){i=u.origHit;n=null},dragStart:function(){r.unselect()},hitOver:function(r,u,e){e&&(u||(i=null),f&&(n=t.computeSelection(t.getHitSpan(e),t.getHitSpan(r)),n?t.renderSelection(n):n===!1&&rt()))},hitOut:function(){i=null;n=null;t.unrenderSelection()},hitDone:function(){ut()},interactionEnd:function(u,f){f||(i&&!t.isIgnoringMouse&&r.triggerDayClick(t.getHitSpan(i),t.getHitEl(i),u),n&&r.reportSelection(n,u))}});return u},clearDragListeners:function(){this.dayDragListener.endInteraction();this.segDragListener&&this.segDragListener.endInteraction();this.segResizeListener&&this.segResizeListener.endInteraction();this.externalDragListener&&this.externalDragListener.endInteraction()},renderEventLocationHelper:function(n,t){var i=this.fabricateHelperEvent(n,t);return this.renderHelper(i,t)},fabricateHelperEvent:function(n,t){var i=t?ot(t.event):{};return i.start=n.start.clone(),i.end=n.end?n.end.clone():null,i.allDay=null,this.view.calendar.normalizeEventDates(i),i.className=(i.className||[]).concat("fc-helper"),t||(i.editable=!1),i},renderHelper:function(){},unrenderHelper:function(){},renderSelection:function(n){this.renderHighlight(n)},unrenderSelection:function(){this.unrenderHighlight()},computeSelection:function(n,t){var i=this.computeSelectionSpan(n,t);return!(i&&!this.view.calendar.isSelectionSpanAllowed(i))&&i},computeSelectionSpan:function(n,t){var i=[n.start,n.end,t.start,t.end];return i.sort(lf),{start:i[0].clone(),end:i[3].clone()}},renderHighlight:function(n){this.renderFill("highlight",this.spanToSegs(n))},unrenderHighlight:function(){this.unrenderFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderBusinessHours:function(){},unrenderBusinessHours:function(){},getNowIndicatorUnit:function(){},renderNowIndicator:function(){},unrenderNowIndicator:function(){},renderFill:function(){},unrenderFill:function(n){var t=this.elsByFill[n];t&&(t.remove(),delete this.elsByFill[n])},renderFillSegEls:function(t,i){var r,u=this,f=this[t+"SegEl"],e="",o=[];if(i.length){for(r=0;r<i.length;r++)e+=this.fillSegHtml(t,i[r]);n(e).each(function(t,r){var s=i[t],e=n(r);f&&(e=f.call(u,s,e));e&&(e=n(e),e.is(u.fillSegTag)&&(s.el=e,o.push(s)))})}return o},fillSegTag:"div",fillSegHtml:function(n,t){var i=this[n+"SegClasses"],r=this[n+"SegCss"],u=i?i.call(this,t):[],f=ht(r?r.call(this,t):{});return"<"+this.fillSegTag+(u.length?' class="'+u.join(" ")+'"':"")+(f?' style="'+f+'"':"")+" />"},getDayClasses:function(n){var i=this.view,r=i.calendar.getNow(),t=["fc-"+si[n.day()]];return 1==i.intervalDuration.as("months")&&n.month()!=i.intervalStart.month()&&t.push("fc-other-month"),n.isSame(r,"day")?t.push("fc-today",i.highlightStateClass):n<r?t.push("fc-past"):t.push("fc-future"),t}});v.mixin({segSelector:".fc-event-container > *",mousedOverSeg:null,isDraggingSeg:!1,isResizingSeg:!1,isDraggingExternal:!1,segs:null,renderEvents:function(n){for(var i=[],r=[],t=0;t<n.length;t++)(tu(n[t])?i:r).push(n[t]);this.segs=[].concat(this.renderBgEvents(i),this.renderFgEvents(r))},renderBgEvents:function(n){var t=this.eventsToSegs(n);return this.renderBgSegs(t)||t},renderFgEvents:function(n){var t=this.eventsToSegs(n);return this.renderFgSegs(t)||t},unrenderEvents:function(){this.handleSegMouseout();this.clearDragListeners();this.unrenderFgSegs();this.unrenderBgSegs();this.segs=null},getEventSegs:function(){return this.segs||[]},renderFgSegs:function(){},unrenderFgSegs:function(){},renderFgSegEls:function(t,i){var r,e=this.view,u="",f=[];if(t.length){for(r=0;r<t.length;r++)u+=this.fgSegHtml(t[r],i);n(u).each(function(i,r){var u=t[i],o=e.resolveEventEl(u.event,n(r));o&&(o.data("fc-seg",u),u.el=o,f.push(u))})}return f},fgSegHtml:function(){},renderBgSegs:function(n){return this.renderFill("bgEvent",n)},unrenderBgSegs:function(){this.unrenderFill("bgEvent")},bgEventSegEl:function(n,t){return this.view.resolveEventEl(n.event,t)},bgEventSegClasses:function(n){var t=n.event,i=t.source||{};return["fc-bgevent"].concat(t.className,i.className||[])},bgEventSegCss:function(n){return{"background-color":this.getSegSkinCss(n)["background-color"]}},businessHoursSegClasses:function(){return["fc-nonbusiness","fc-bgevent"]},buildBusinessHourSegs:function(t){var i=this.view.calendar.getCurrentBusinessHourEvents(t);return!i.length&&this.view.calendar.options.businessHours&&(i=[n.extend({},pi,{start:this.view.end,end:this.view.end,dow:null})]),this.eventsToSegs(i)},bindSegHandlers:function(){this.bindSegHandlersToEl(this.el)},bindSegHandlersToEl:function(n){this.bindSegHandlerToEl(n,"touchstart",this.handleSegTouchStart);this.bindSegHandlerToEl(n,"touchend",this.handleSegTouchEnd);this.bindSegHandlerToEl(n,"mouseenter",this.handleSegMouseover);this.bindSegHandlerToEl(n,"mouseleave",this.handleSegMouseout);this.bindSegHandlerToEl(n,"mousedown",this.handleSegMousedown);this.bindSegHandlerToEl(n,"click",this.handleSegClick)},bindSegHandlerToEl:function(t,i,r){var u=this;t.on(i,this.segSelector,function(t){var i=n(this).data("fc-seg");if(i&&!u.isDraggingSeg&&!u.isResizingSeg)return r.call(u,i,t)})},handleSegClick:function(n,t){var i=this.view.trigger("eventClick",n.el[0],n.event,t);i===!1&&t.preventDefault()},handleSegMouseover:function(n,t){this.isIgnoringMouse||this.mousedOverSeg||(this.mousedOverSeg=n,this.view.isEventResizable(n.event)&&n.el.addClass("fc-allow-mouse-resize"),this.view.trigger("eventMouseover",n.el[0],n.event,t))},handleSegMouseout:function(n,t){t=t||{};this.mousedOverSeg&&(n=n||this.mousedOverSeg,this.mousedOverSeg=null,this.view.isEventResizable(n.event)&&n.el.removeClass("fc-allow-mouse-resize"),this.view.trigger("eventMouseout",n.el[0],n.event,t))},handleSegMousedown:function(n,t){var i=this.startSegResize(n,t,{distance:5});!i&&this.view.isEventDraggable(n.event)&&this.buildSegDragListener(n).startInteraction(t,{distance:5})},handleSegTouchStart:function(n,t){var u,i=this.view,r=n.event,f=i.isEventSelected(r),e=i.isEventDraggable(r),o=i.isEventResizable(r),s=!1;f&&o&&(s=this.startSegResize(n,t));s||!e&&!o||(u=e?this.buildSegDragListener(n):this.buildSegSelectListener(n),u.startInteraction(t,{delay:f?0:this.view.opt("longPressDelay")}));this.tempIgnoreMouse()},handleSegTouchEnd:function(){this.tempIgnoreMouse()},startSegResize:function(t,i,r){return!!n(i.target).is(".fc-resizer")&&(this.buildSegResizeListener(t,n(i.target).is(".fc-start-resizer")).startInteraction(i,r),!0)},buildSegDragListener:function(n){var o,u,i,r=this,t=this.view,h=t.calendar,s=n.el,f=n.event,e;return this.segDragListener?this.segDragListener:e=this.segDragListener=new pt(t,{scroll:t.opt("dragScroll"),subjectEl:s,subjectCenter:!0,interactionStart:function(i){n.component=r;o=!1;u=new ae(n.el,{additionalClass:"fc-dragging",parentEl:t.el,opacity:e.isTouch?null:t.opt("dragOpacity"),revertDuration:t.opt("dragRevertDuration"),zIndex:2});u.hide();u.start(i)},dragStart:function(i){e.isTouch&&!t.isEventSelected(f)&&t.selectEvent(f);o=!0;r.handleSegMouseout(n,i);r.segDragStart(n,i);t.hideEvent(f)},hitOver:function(o,s,c){var l;n.hit&&(c=n.hit);i=r.computeEventDrop(c.component.getHitSpan(c),o.component.getHitSpan(o),f);i&&!h.isEventSpanAllowed(r.eventToSpan(i),f)&&(rt(),i=null);i&&(l=t.renderDrag(i,n))?(l.addClass("fc-dragging"),e.isTouch||r.applyDragOpacity(l),u.hide()):u.show();s&&(i=null)},hitOut:function(){t.unrenderDrag();u.show();i=null},hitDone:function(){ut()},interactionEnd:function(e){delete n.component;u.stop(!i,function(){o&&(t.unrenderDrag(),t.showEvent(f),r.segDragStop(n,e));i&&t.reportEventDrop(f,i,this.largeUnit,s,e)});r.segDragListener=null}})},buildSegSelectListener:function(n){var u=this,t=this.view,i=n.event,r;return this.segDragListener?this.segDragListener:r=this.segDragListener=new h({dragStart:function(){r.isTouch&&!t.isEventSelected(i)&&t.selectEvent(i)},interactionEnd:function(){u.segDragListener=null}})},segDragStart:function(n,t){this.isDraggingSeg=!0;this.view.trigger("eventDragStart",n.el[0],n.event,t,{})},segDragStop:function(n,t){this.isDraggingSeg=!1;this.view.trigger("eventDragStop",n.el[0],n.event,t,{})},computeEventDrop:function(n,t,i){var u,r,e=this.view.calendar,o=n.start,f=t.start;return o.hasTime()===f.hasTime()?(u=this.diffDates(f,o),i.allDay&&k(u)?(r={start:i.start.clone(),end:e.getEventEnd(i),allDay:!1},e.normalizeEventTimes(r)):r=nu(i),r.start.add(u),r.end&&r.end.add(u)):r={start:f.clone(),end:null,allDay:!f.hasTime()},r},applyDragOpacity:function(n){var t=this.view.opt("dragOpacity");null!=t&&n.css("opacity",t)},externalDragStart:function(t,i){var r,u,f=this.view;f.opt("droppable")&&(r=n((i?i.item:null)||t.target),u=f.opt("dropAccept"),(n.isFunction(u)?u.call(r[0],r):r.is(u))&&(this.isDraggingExternal||this.listenToExternalDrag(r,t,i)))},listenToExternalDrag:function(n,t,i){var r,u=this,e=this.view.calendar,f=kf(n),o=u.externalDragListener=new pt(this,{interactionStart:function(){u.isDraggingExternal=!0},hitOver:function(n){r=u.computeExternalDrop(n.component.getHitSpan(n),f);r&&!e.isExternalSpanAllowed(u.eventToSpan(r),r,f.eventProps)&&(rt(),r=null);r&&u.renderDrag(r)},hitOut:function(){r=null},hitDone:function(){ut();u.unrenderDrag()},interactionEnd:function(t){r&&u.view.reportExternalDrop(f,r,n,t,i);u.isDraggingExternal=!1;u.externalDragListener=null}});o.startDrag(t)},computeExternalDrop:function(n,t){var r=this.view.calendar,i={start:r.applyTimezone(n.start),end:null};return t.startTime&&!i.start.hasTime()&&i.start.time(t.startTime),t.duration&&(i.end=i.start.clone().add(t.duration)),i},renderDrag:function(){},unrenderDrag:function(){},buildSegResizeListener:function(n,t){var e,i,r=this,f=this.view,o=f.calendar,s=n.el,u=n.event,h=o.getEventEnd(u);return this.segResizeListener=new pt(this,{scroll:f.opt("dragScroll"),subjectEl:s,interactionStart:function(){e=!1},dragStart:function(t){e=!0;r.handleSegMouseout(n,t);r.segResizeStart(n,t)},hitOver:function(e,s,c){var l=r.getHitSpan(c),a=r.getHitSpan(e);i=t?r.computeEventStartResize(l,a,u):r.computeEventEndResize(l,a,u);i&&(o.isEventSpanAllowed(r.eventToSpan(i),u)?i.start.isSame(u.start.clone().stripZone())&&i.end.isSame(h.clone().stripZone())&&(i=null):(rt(),i=null));i&&(f.hideEvent(u),r.renderEventResize(i,n))},hitOut:function(){i=null},hitDone:function(){r.unrenderEventResize();f.showEvent(u);ut()},interactionEnd:function(t){e&&r.segResizeStop(n,t);i&&f.reportEventResize(u,i,this.largeUnit,s,t);r.segResizeListener=null}})},segResizeStart:function(n,t){this.isResizingSeg=!0;this.view.trigger("eventResizeStart",n.el[0],n.event,t,{})},segResizeStop:function(n,t){this.isResizingSeg=!1;this.view.trigger("eventResizeStop",n.el[0],n.event,t,{})},computeEventStartResize:function(n,t,i){return this.computeEventResize("start",n,t,i)},computeEventEndResize:function(n,t,i){return this.computeEventResize("end",n,t,i)},computeEventResize:function(n,t,i,r){var u,e,f=this.view.calendar,o=this.diffDates(i[n],t[n]);return u={start:r.start.clone(),end:f.getEventEnd(r),allDay:r.allDay},u.allDay&&k(o)&&(u.allDay=!1,f.normalizeEventTimes(u)),u[n].add(o),u.start.isBefore(u.end)||(e=this.minResizeDuration||(r.allDay?f.defaultAllDayEventDuration:f.defaultTimedEventDuration),"start"==n?u.start=u.end.clone().subtract(e):u.end=u.start.clone().add(e)),u},renderEventResize:function(){},unrenderEventResize:function(){},getEventTimeText:function(n,t,i){return null==t&&(t=this.eventTimeFormat),null==i&&(i=this.displayEventEnd),this.displayEventTime&&n.start.hasTime()?i&&n.end?this.view.formatRange(n,t):n.start.format(t):""},getSegClasses:function(n,t,i){var u=this.view,r=["fc-event",n.isStart?"fc-start":"fc-not-start",n.isEnd?"fc-end":"fc-not-end"].concat(this.getSegCustomClasses(n));return t&&r.push("fc-draggable"),i&&r.push("fc-resizable"),u.isEventSelected(n.event)&&r.push("fc-selected"),r},getSegCustomClasses:function(n){var t=n.event;return[].concat(t.className,t.source?t.source.className:[])},getSegSkinCss:function(n){return{"background-color":this.getSegBackgroundColor(n),"border-color":this.getSegBorderColor(n),color:this.getSegTextColor(n)}},getSegBackgroundColor:function(n){return n.event.backgroundColor||n.event.color||this.getSegDefaultBackgroundColor(n)},getSegDefaultBackgroundColor:function(n){var t=n.event.source||{};return t.backgroundColor||t.color||this.view.opt("eventBackgroundColor")||this.view.opt("eventColor")},getSegBorderColor:function(n){return n.event.borderColor||n.event.color||this.getSegDefaultBorderColor(n)},getSegDefaultBorderColor:function(n){var t=n.event.source||{};return t.borderColor||t.color||this.view.opt("eventBorderColor")||this.view.opt("eventColor")},getSegTextColor:function(n){return n.event.textColor||this.getSegDefaultTextColor(n)},getSegDefaultTextColor:function(n){var t=n.event.source||{};return t.textColor||this.view.opt("eventTextColor")},eventToSegs:function(n){return this.eventsToSegs([n])},eventToSpan:function(n){return this.eventToSpans(n)[0]},eventToSpans:function(n){var t=this.eventToRange(n);return this.eventRangeToSpans(t,n)},eventsToSegs:function(t,i){var u=this,f=wf(t),r=[];return n.each(f,function(n,t){for(var e=[],f=0;f<t.length;f++)e.push(u.eventToRange(t[f]));if(pf(t[0]))for(e=u.invertRanges(e),f=0;f<e.length;f++)r.push.apply(r,u.eventRangeToSegs(e[f],t[0],i));else for(f=0;f<e.length;f++)r.push.apply(r,u.eventRangeToSegs(e[f],t[f],i))}),r},eventToRange:function(n){var t=this.view.calendar,i=n.start.clone().stripZone(),r=(n.end?n.end.clone():t.getDefaultEventEnd(null!=n.allDay?n.allDay:!n.start.hasTime(),n.start)).stripZone();return t.localizeMoment(i),t.localizeMoment(r),{start:i,end:r}},eventRangeToSegs:function(n,t,i){for(var f=this.eventRangeToSpans(n,t),u=[],r=0;r<f.length;r++)u.push.apply(u,this.eventSpanToSegs(f[r],t,i));return u},eventRangeToSpans:function(t){return[n.extend({},t)]},eventSpanToSegs:function(n,t,i){for(var u,f=i?i(n):this.spanToSegs(n),r=0;r<f.length;r++)u=f[r],u.event=t,u.eventStartMS=+n.start,u.eventDurationMS=n.end-n.start;return f},invertRanges:function(n){var i,r,f=this.view,o=f.start.clone(),e=f.end.clone(),u=[],t=o;for(n.sort(bf),i=0;i<n.length;i++)r=n[i],r.start>t&&u.push({start:t,end:r.start}),t=r.end;return t<e&&u.push({start:t,end:e}),u},sortEventSegs:function(n){n.sort(d(this,"compareEventSegs"))},compareEventSegs:function(n,t){return n.eventStartMS-t.eventStartMS||t.eventDurationMS-n.eventDurationMS||t.event.allDay-n.event.allDay||er(n.event,t.event,this.view.eventOrderSpecs)}});i.pluckEventDateProps=nu;i.isBgEvent=tu;i.dataAttrPrefix="";ai=i.DayTableMixin={breakOnWeeks:!1,dayDates:null,dayIndices:null,daysPerRow:null,rowCnt:null,colCnt:null,colHeadFormat:null,updateDayTable:function(){for(var n,e,r,o=this.view,i=this.start.clone(),u=-1,f=[],t=[];i.isBefore(this.end);)o.isHiddenDay(i)?f.push(u+.5):(u++,f.push(u),t.push(i.clone())),i.add(1,"days");if(this.breakOnWeeks){for(e=t[0].day(),n=1;n<t.length&&t[n].day()!=e;n++);r=Math.ceil(t.length/n)}else r=1,n=t.length;this.dayDates=t;this.dayIndices=f;this.daysPerRow=n;this.rowCnt=r;this.updateDayTableCols()},updateDayTableCols:function(){this.colCnt=this.computeColCnt();this.colHeadFormat=this.view.opt("columnFormat")||this.computeColHeadFormat()},computeColCnt:function(){return this.daysPerRow},getCellDate:function(n,t){return this.dayDates[this.getCellDayIndex(n,t)].clone()},getCellRange:function(n,t){var i=this.getCellDate(n,t),r=i.clone().add(1,"days");return{start:i,end:r}},getCellDayIndex:function(n,t){return n*this.daysPerRow+this.getColDayIndex(t)},getColDayIndex:function(n){return this.isRTL?this.colCnt-1-n:n},getDateDayIndex:function(n){var t=this.dayIndices,i=n.diff(this.start,"days");return i<0?t[0]-1:i>=t.length?t[t.length-1]+1:t[i]},computeColHeadFormat:function(){return this.rowCnt>1||this.colCnt>10?"ddd":this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},sliceRangeByRow:function(n){for(var u,f,t,i,e=this.daysPerRow,o=this.view.computeDayRange(n),s=this.getDateDayIndex(o.start),h=this.getDateDayIndex(o.end.clone().subtract(1,"days")),c=[],r=0;r<this.rowCnt;r++)u=r*e,f=u+e-1,t=Math.max(s,u),i=Math.min(h,f),t=Math.ceil(t),i=Math.floor(i),t<=i&&c.push({row:r,firstRowDayIndex:t-u,lastRowDayIndex:i-u,isStart:t===s,isEnd:i===h});return c},sliceRangeByDay:function(n){for(var u,e,f,t,i,o=this.daysPerRow,s=this.view.computeDayRange(n),h=this.getDateDayIndex(s.start),c=this.getDateDayIndex(s.end.clone().subtract(1,"days")),l=[],r=0;r<this.rowCnt;r++)for(u=r*o,e=u+o-1,f=u;f<=e;f++)t=Math.max(h,f),i=Math.min(c,f),t=Math.ceil(t),i=Math.floor(i),t<=i&&l.push({row:r,firstRowDayIndex:t-u,lastRowDayIndex:i-u,isStart:t===h,isEnd:i===c});return l},renderHeadHtml:function(){var n=this.view;return'<div class="fc-row '+n.widgetHeaderClass+'"><table><thead>'+this.renderHeadTrHtml()+"<\/thead><\/table><\/div>"},renderHeadIntroHtml:function(){return this.renderIntroHtml()},renderHeadTrHtml:function(){return"<tr>"+(this.isRTL?"":this.renderHeadIntroHtml())+this.renderHeadDateCellsHtml()+(this.isRTL?this.renderHeadIntroHtml():"")+"<\/tr>"},renderHeadDateCellsHtml:function(){for(var t,i=[],n=0;n<this.colCnt;n++)t=this.getCellDate(0,n),i.push(this.renderHeadDateCellHtml(t));return i.join("")},renderHeadDateCellHtml:function(n,t,i){var u=this.view;return'<th class="fc-day-header '+u.widgetHeaderClass+" fc-"+si[n.day()]+'"'+(1===this.rowCnt?' data-date="'+n.format("YYYY-MM-DD")+'"':"")+(t>1?' colspan="'+t+'"':"")+(i?" "+i:"")+">"+u.buildGotoAnchorHtml({date:n,forceOff:this.rowCnt>1||1===this.colCnt},r(n.format(this.colHeadFormat)))+"<\/th>"},renderBgTrHtml:function(n){return"<tr>"+(this.isRTL?"":this.renderBgIntroHtml(n))+this.renderBgCellsHtml(n)+(this.isRTL?this.renderBgIntroHtml(n):"")+"<\/tr>"},renderBgIntroHtml:function(){return this.renderIntroHtml()},renderBgCellsHtml:function(n){for(var i,r=[],t=0;t<this.colCnt;t++)i=this.getCellDate(n,t),r.push(this.renderBgCellHtml(i));return r.join("")},renderBgCellHtml:function(n,t){var r=this.view,i=this.getDayClasses(n);return i.unshift("fc-day",r.widgetContentClass),'<td class="'+i.join(" ")+'" data-date="'+n.format("YYYY-MM-DD")+'"'+(t?" "+t:"")+"><\/td>"},renderIntroHtml:function(){},bookendCells:function(n){var t=this.renderIntroHtml();t&&(this.isRTL?n.append(t):n.prepend(t))}};it=i.DayGrid=v.extend(ai,{numbersVisible:!1,bottomCoordPadding:0,rowEls:null,cellEls:null,helperEls:null,rowCoordCache:null,colCoordCache:null,renderDates:function(n){for(var i,f=this.view,r=this.rowCnt,e=this.colCnt,u="",t=0;t<r;t++)u+=this.renderDayRowHtml(t,n);for(this.el.html(u),this.rowEls=this.el.find(".fc-row"),this.cellEls=this.el.find(".fc-day"),this.rowCoordCache=new yt({els:this.rowEls,isVertical:!0}),this.colCoordCache=new yt({els:this.cellEls.slice(0,this.colCnt),isHorizontal:!0}),t=0;t<r;t++)for(i=0;i<e;i++)f.trigger("dayRender",null,this.getCellDate(t,i),this.getCellEl(t,i))},unrenderDates:function(){this.removeSegPopover()},renderBusinessHours:function(){var n=this.buildBusinessHourSegs(!0);this.renderFill("businessHours",n,"bgevent")},unrenderBusinessHours:function(){this.unrenderFill("businessHours")},renderDayRowHtml:function(n,t){var r=this.view,i=["fc-row","fc-week",r.widgetContentClass];return t&&i.push("fc-rigid"),'<div class="'+i.join(" ")+'"><div class="fc-bg"><table>'+this.renderBgTrHtml(n)+'<\/table><\/div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.renderNumberTrHtml(n)+"<\/thead>":"")+"<\/table><\/div><\/div>"},renderNumberTrHtml:function(n){return"<tr>"+(this.isRTL?"":this.renderNumberIntroHtml(n))+this.renderNumberCellsHtml(n)+(this.isRTL?this.renderNumberIntroHtml(n):"")+"<\/tr>"},renderNumberIntroHtml:function(){return this.renderIntroHtml()},renderNumberCellsHtml:function(n){for(var i,r=[],t=0;t<this.colCnt;t++)i=this.getCellDate(n,t),r.push(this.renderNumberCellHtml(i));return r.join("")},renderNumberCellHtml:function(n){var i,r,t="";return this.view.dayNumbersVisible||this.view.cellWeekNumbersVisible?(i=this.getDayClasses(n),i.unshift("fc-day-top"),this.view.cellWeekNumbersVisible&&(r="ISO"===n._locale._fullCalendar_weekCalc?1:n._locale.firstDayOfWeek()),t+='<td class="'+i.join(" ")+'" data-date="'+n.format()+'">',this.view.cellWeekNumbersVisible&&n.day()==r&&(t+=this.view.buildGotoAnchorHtml({date:n,type:"week"},{"class":"fc-week-number"},n.format("w"))),this.view.dayNumbersVisible&&(t+=this.view.buildGotoAnchorHtml(n,{"class":"fc-day-number"},n.date())),t+="<\/td>"):"<td/>"},computeEventTimeFormat:function(){return this.view.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function(){return 1==this.colCnt},rangeUpdated:function(){this.updateDayTable()},spanToSegs:function(n){for(var t,r=this.sliceRangeByRow(n),i=0;i<r.length;i++)t=r[i],this.isRTL?(t.leftCol=this.daysPerRow-1-t.lastRowDayIndex,t.rightCol=this.daysPerRow-1-t.firstRowDayIndex):(t.leftCol=t.firstRowDayIndex,t.rightCol=t.lastRowDayIndex);return r},prepareHits:function(){this.colCoordCache.build();this.rowCoordCache.build();this.rowCoordCache.bottoms[this.rowCnt-1]+=this.bottomCoordPadding},releaseHits:function(){this.colCoordCache.clear();this.rowCoordCache.clear()},queryHit:function(n,t){if(this.colCoordCache.isLeftInBounds(n)&&this.rowCoordCache.isTopInBounds(t)){var i=this.colCoordCache.getHorizontalIndex(n),r=this.rowCoordCache.getVerticalIndex(t);if(null!=r&&null!=i)return this.getCellHit(r,i)}},getHitSpan:function(n){return this.getCellRange(n.row,n.col)},getHitEl:function(n){return this.getCellEl(n.row,n.col)},getCellHit:function(n,t){return{row:n,col:t,component:this,left:this.colCoordCache.getLeftOffset(t),right:this.colCoordCache.getRightOffset(t),top:this.rowCoordCache.getTopOffset(n),bottom:this.rowCoordCache.getBottomOffset(n)}},getCellEl:function(n,t){return this.cellEls.eq(n*this.colCnt+t)},renderDrag:function(n,t){if(this.renderHighlight(this.eventToSpan(n)),t&&t.component!==this)return this.renderEventLocationHelper(n,t)},unrenderDrag:function(){this.unrenderHighlight();this.unrenderHelper()},renderEventResize:function(n,t){return this.renderHighlight(this.eventToSpan(n)),this.renderEventLocationHelper(n,t)},unrenderEventResize:function(){this.unrenderHighlight();this.unrenderHelper()},renderHelper:function(t,i){var u,f=[],r=this.eventToSegs(t);return r=this.renderFgSegEls(r),u=this.renderSegRows(r),this.rowEls.each(function(t,r){var o,s=n(r),e=n('<div class="fc-helper-skeleton"><table/><\/div>');o=i&&i.row===t?i.el.position().top:s.find(".fc-content-skeleton tbody").position().top;e.css("top",o).find("table").append(u[t].tbodyEl);s.append(e);f.push(e[0])}),this.helperEls=n(f)},unrenderHelper:function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},fillSegTag:"td",renderFill:function(t,i,r){var u,f,e,o=[];for(i=this.renderFillSegEls(t,i),u=0;u<i.length;u++)f=i[u],e=this.renderFillRow(t,f,r),this.rowEls.eq(f.row).append(e),o.push(e[0]);return this.elsByFill[t]=n(o),i},renderFillRow:function(t,i,r){var f,u,s=this.colCnt,e=i.leftCol,o=i.rightCol+1;return r=r||t.toLowerCase(),f=n('<div class="fc-'+r+'-skeleton"><table><tr/><\/table><\/div>'),u=f.find("tr"),e>0&&u.append('<td colspan="'+e+'"/>'),u.append(i.el.attr("colspan",o-e)),o<s&&u.append('<td colspan="'+(s-o)+'"/>'),this.bookendCells(u),f}});it.mixin({rowStructs:null,unrenderEvents:function(){this.removeSegPopover();v.prototype.unrenderEvents.apply(this,arguments)},getEventSegs:function(){return v.prototype.getEventSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(t){var i=n.grep(t,function(n){return n.event.allDay});return v.prototype.renderBgSegs.call(this,i)},renderFgSegs:function(t){var i;return t=this.renderFgSegEls(t),i=this.rowStructs=this.renderSegRows(t),this.rowEls.each(function(t,r){n(r).find(".fc-content-skeleton > table").append(i[t].tbodyEl)}),t},unrenderFgSegs:function(){for(var n,t=this.rowStructs||[];n=t.pop();)n.tbodyEl.remove();this.rowStructs=null},renderSegRows:function(n){for(var r=[],i=this.groupSegRows(n),t=0;t<i.length;t++)r.push(this.renderSegRow(t,i[t]));return r},fgSegHtml:function(n,t){var u,f,e=this.view,i=n.event,a=e.isEventDraggable(i),s=!t&&i.allDay&&n.isStart&&e.isEventResizableFromStart(i),h=!t&&i.allDay&&n.isEnd&&e.isEventResizableFromEnd(i),c=this.getSegClasses(n,a,s||h),l=ht(this.getSegSkinCss(n)),o="";return c.unshift("fc-day-grid-event","fc-h-event"),n.isStart&&(u=this.getEventTimeText(i),u&&(o='<span class="fc-time">'+r(u)+"<\/span>")),f='<span class="fc-title">'+(r(i.title||"")||"&nbsp;")+"<\/span>",'<a class="'+c.join(" ")+'"'+(i.url?' href="'+r(i.url)+'"':"")+(l?' style="'+l+'"':"")+'><div class="fc-content">'+(this.isRTL?f+" "+o:o+" "+f)+"<\/div>"+(s?'<div class="fc-resizer fc-start-resizer" />':"")+(h?'<div class="fc-resizer fc-end-resizer" />':"")+"<\/a>"},renderSegRow:function(t,i){function y(t){for(;u<t;)r=(l[f-1]||[])[u],r?r.attr("rowspan",parseInt(r.attr("rowspan")||1,10)+1):(r=n("<td/>"),o.append(r)),c[f][u]=r,l[f][u]=r,u++}for(var s,u,o,h,e,r,w=this.colCnt,a=this.buildSegLevels(i),b=Math.max(1,a.length),p=n("<tbody/>"),v=[],c=[],l=[],f=0;f<b;f++){if(s=a[f],u=0,o=n("<tr/>"),v.push([]),c.push([]),l.push([]),s)for(h=0;h<s.length;h++){for(e=s[h],y(e.leftCol),r=n('<td class="fc-event-container"/>').append(e.el),e.leftCol!=e.rightCol?r.attr("colspan",e.rightCol-e.leftCol+1):l[f][u]=r;u<=e.rightCol;)c[f][u]=r,v[f][u]=e,u++;o.append(r)}y(w);this.bookendCells(o);p.append(o)}return{row:t,tbodyEl:p,cellMatrix:c,segMatrix:v,segLevels:a,segs:i}},buildSegLevels:function(n){var r,u,t,i=[];for(this.sortEventSegs(n),r=0;r<n.length;r++){for(u=n[r],t=0;t<i.length&&df(u,i[t]);t++);u.level=t;(i[t]||(i[t]=[])).push(u)}for(t=0;t<i.length;t++)i[t].sort(gf);return i},groupSegRows:function(n){for(var i=[],t=0;t<this.rowCnt;t++)i.push([]);for(t=0;t<n.length;t++)i[n[t].row].push(n[t]);return i}});it.mixin({segPopover:null,popoverSegs:null,removeSegPopover:function(){this.segPopover&&this.segPopover.hide()},limitRows:function(n){for(var i,r=this.rowStructs||[],t=0;t<r.length;t++)this.unlimitRow(t),i=!!n&&("number"==typeof n?n:this.computeRowLevelLimit(t)),i!==!1&&this.limitRow(t,i)},computeRowLevelLimit:function(t){function e(t,i){r=Math.max(r,n(i).outerHeight())}for(var u,r,o=this.rowEls.eq(t),s=o.height(),f=this.rowStructs[t].tbodyEl.children(),i=0;i<f.length;i++)if(u=f.eq(i).removeClass("fc-limited"),r=0,u.find("> td > :first-child").each(e),u.position().top+r>s)return i;return!1},limitRow:function(t,i){function g(f){for(;u<f;)r=tt.getCellSegs(t,u,i),r.length&&(e=p[i-1][u],v=tt.renderMoreLink(t,u,r),h=n("<div/>").append(v),e.append(h),d.push(h[0])),u++}var y,p,w,c,f,r,b,l,e,nt,k,s,a,h,v,tt=this,o=this.rowStructs[t],d=[],u=0;if(i&&i<o.segLevels.length){for(y=o.segLevels[i-1],p=o.cellMatrix,w=o.tbodyEl.children().slice(i).addClass("fc-limited").get(),c=0;c<y.length;c++){for(f=y[c],g(f.leftCol),l=[],b=0;u<=f.rightCol;)r=this.getCellSegs(t,u,i),l.push(r),b+=r.length,u++;if(b){for(e=p[i-1][f.leftCol],nt=e.attr("rowspan")||1,k=[],s=0;s<l.length;s++)a=n('<td class="fc-more-cell"/>').attr("rowspan",nt),r=l[s],v=this.renderMoreLink(t,f.leftCol+s,[f].concat(r)),h=n("<div/>").append(v),a.append(h),k.push(a[0]),d.push(a[0]);e.addClass("fc-limited").after(n(k));w.push(e[0])}}g(this.colCnt);o.moreEls=n(d);o.limitedEls=n(w)}},unlimitRow:function(n){var t=this.rowStructs[n];t.moreEls&&(t.moreEls.remove(),t.moreEls=null);t.limitedEls&&(t.limitedEls.removeClass("fc-limited"),t.limitedEls=null)},renderMoreLink:function(t,i,r){var u=this,f=this.view;return n('<a class="fc-more"/>').text(this.getMoreLinkText(r.length)).on("click",function(e){var o=f.opt("eventLimitClick"),s=u.getCellDate(t,i),h=n(this),l=u.getCellEl(t,i),a=u.getCellSegs(t,i),c=u.resliceDaySegs(a,s),v=u.resliceDaySegs(r,s);"function"==typeof o&&(o=f.trigger("eventLimitClick",null,{date:s,dayEl:l,moreEl:h,segs:c,hiddenSegs:v},e));"popover"===o?u.showSegPopover(t,i,h,c):"string"==typeof o&&f.calendar.zoomTo(s,o)})},showSegPopover:function(n,t,i,r){var o,u,f=this,s=this.view,e=i.parent();o=1==this.rowCnt?s.el:this.rowEls.eq(n);u={className:"fc-more-popover",content:this.renderSegPopoverContent(n,t,r),parentEl:this.view.el,top:o.offset().top,autoHide:!0,viewportConstrain:s.opt("popoverViewportConstrain"),hide:function(){f.segPopover.removeElement();f.segPopover=null;f.popoverSegs=null}};this.isRTL?u.right=e.offset().left+e.outerWidth()+1:u.left=e.offset().left-1;this.segPopover=new le(u);this.segPopover.show();this.bindSegHandlersToEl(this.segPopover.el)},renderSegPopoverContent:function(t,i,u){var f,e=this.view,s=e.opt("theme"),h=this.getCellDate(t,i).format(e.opt("dayPopoverFormat")),o=n('<div class="fc-header '+e.widgetHeaderClass+'"><span class="fc-close '+(s?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"><\/span><span class="fc-title">'+r(h)+'<\/span><div class="fc-clear"/><\/div><div class="fc-body '+e.widgetContentClass+'"><div class="fc-event-container"><\/div><\/div>'),c=o.find(".fc-event-container");for(u=this.renderFgSegEls(u,!0),this.popoverSegs=u,f=0;f<u.length;f++)this.prepareHits(),u[f].hit=this.getCellHit(t,i),this.releaseHits(),c.append(u[f].el);return o},resliceDaySegs:function(t,i){var u=n.map(t,function(n){return n.event}),r=i.clone(),f=r.clone().add(1,"days"),e={start:r,end:f};return t=this.eventsToSegs(u,function(n){var t=et(n,e);return t?[t]:[]}),this.sortEventSegs(t),t},getMoreLinkText:function(n){var t=this.view.opt("eventLimitText");return"function"==typeof t?t(n):"+"+n+" "+t},getCellSegs:function(n,t,i){for(var r,f=this.rowStructs[n].segMatrix,u=i||0,e=[];u<f.length;)r=f[u][t],r&&e.push(r),u++;return e}});vi=i.TimeGrid=v.extend(ai,{slotDuration:null,snapDuration:null,snapsPerSlot:null,minTime:null,maxTime:null,labelFormat:null,labelInterval:null,colEls:null,slatContainerEl:null,slatEls:null,nowIndicatorEls:null,colCoordCache:null,slatCoordCache:null,constructor:function(){v.apply(this,arguments);this.processOptions()},renderDates:function(){this.el.html(this.renderHtml());this.colEls=this.el.find(".fc-day");this.slatContainerEl=this.el.find(".fc-slats");this.slatEls=this.slatContainerEl.find("tr");this.colCoordCache=new yt({els:this.colEls,isHorizontal:!0});this.slatCoordCache=new yt({els:this.slatEls,isVertical:!0});this.renderContentSkeleton()},renderHtml:function(){return'<div class="fc-bg"><table>'+this.renderBgTrHtml(0)+'<\/table><\/div><div class="fc-slats"><table>'+this.renderSlatRowHtml()+"<\/table><\/div>"},renderSlatRowHtml:function(){for(var i,u,f,e=this.view,o=this.isRTL,s="",n=t.duration(+this.minTime);n<this.maxTime;)i=this.start.clone().time(n),u=y(ni(n,this.labelInterval)),f='<td class="fc-axis fc-time '+e.widgetContentClass+'" '+e.axisStyleAttr()+">"+(u?"<span>"+r(i.format(this.labelFormat))+"<\/span>":"")+"<\/td>",s+='<tr data-time="'+i.format("HH:mm:ss")+'"'+(u?"":' class="fc-minor"')+">"+(o?"":f)+'<td class="'+e.widgetContentClass+'"/>'+(o?f:"")+"<\/tr>",n.add(this.slotDuration);return s},processOptions:function(){var i,r=this.view,u=r.opt("slotDuration"),f=r.opt("snapDuration");u=t.duration(u);f=f?t.duration(f):u;this.slotDuration=u;this.snapDuration=f;this.snapsPerSlot=u/f;this.minResizeDuration=f;this.minTime=t.duration(r.opt("minTime"));this.maxTime=t.duration(r.opt("maxTime"));i=r.opt("slotLabelFormat");n.isArray(i)&&(i=i[i.length-1]);this.labelFormat=i||r.opt("smallTimeFormat");i=r.opt("slotLabelInterval");this.labelInterval=i?t.duration(i):this.computeLabelInterval(u)},computeLabelInterval:function(n){for(var r,u,i=au.length-1;i>=0;i--)if(r=t.duration(au[i]),u=ni(r,n),y(u)&&u>1)return r;return t.duration(n)},computeEventTimeFormat:function(){return this.view.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return!0},prepareHits:function(){this.colCoordCache.build();this.slatCoordCache.build()},releaseHits:function(){this.colCoordCache.clear()},queryHit:function(n,t){var u=this.snapsPerSlot,f=this.colCoordCache,e=this.slatCoordCache,i,r;if(f.isLeftInBounds(n)&&e.isTopInBounds(t)&&(i=f.getHorizontalIndex(n),r=e.getVerticalIndex(t),null!=i&&null!=r)){var o=e.getTopOffset(r),s=e.getHeight(r),c=(t-o)/s,h=Math.floor(c*u),l=r*u+h,a=o+h/u*s,v=o+(h+1)/u*s;return{col:i,snap:l,component:this,left:f.getLeftOffset(i),right:f.getRightOffset(i),top:a,bottom:v}}},getHitSpan:function(n){var i,t=this.getCellDate(0,n.col),r=this.computeSnapTime(n.snap);return t.time(r),i=t.clone().add(this.snapDuration),{start:t,end:i}},getHitEl:function(n){return this.colEls.eq(n.col)},rangeUpdated:function(){this.updateDayTable()},computeSnapTime:function(n){return t.duration(this.minTime+this.snapDuration*n)},spanToSegs:function(n){for(var i=this.sliceRangeByTimes(n),t=0;t<i.length;t++)i[t].col=this.isRTL?this.daysPerRow-1-i[t].dayIndex:i[t].dayIndex;return i},sliceRangeByTimes:function(n){for(var i,r,u,f=[],t=0;t<this.daysPerRow;t++)r=this.dayDates[t].clone(),u={start:r.clone().time(this.minTime),end:r.clone().time(this.maxTime)},i=et(n,u),i&&(i.dayIndex=t,f.push(i));return f},updateSize:function(n){this.slatCoordCache.build();n&&this.updateSegVerticals([].concat(this.fgSegs||[],this.bgSegs||[],this.businessSegs||[]))},getTotalSlatHeight:function(){return this.slatContainerEl.outerHeight()},computeDateTop:function(n,i){return this.computeTimeTop(t.duration(n-i.clone().stripTime()))},computeTimeTop:function(n){var t,r,u=this.slatEls.length,i=(n-this.minTime)/this.slotDuration;return i=Math.max(0,i),i=Math.min(u,i),t=Math.floor(i),t=Math.min(t,u-1),r=i-t,this.slatCoordCache.getTopPosition(t)+this.slatCoordCache.getHeight(t)*r},renderDrag:function(n,t){return t?this.renderEventLocationHelper(n,t):void this.renderHighlight(this.eventToSpan(n))},unrenderDrag:function(){this.unrenderHelper();this.unrenderHighlight()},renderEventResize:function(n,t){return this.renderEventLocationHelper(n,t)},unrenderEventResize:function(){this.unrenderHelper()},renderHelper:function(n,t){return this.renderHelperSegs(this.eventToSegs(n),t)},unrenderHelper:function(){this.unrenderHelperSegs()},renderBusinessHours:function(){this.renderBusinessSegs(this.buildBusinessHourSegs())},unrenderBusinessHours:function(){this.unrenderBusinessSegs()},getNowIndicatorUnit:function(){return"minute"},renderNowIndicator:function(t){for(var r=this.spanToSegs({start:t,end:t}),f=this.computeDateTop(t,t),u=[],i=0;i<r.length;i++)u.push(n('<div class="fc-now-indicator fc-now-indicator-line"><\/div>').css("top",f).appendTo(this.colContainerEls.eq(r[i].col))[0]);r.length>0&&u.push(n('<div class="fc-now-indicator fc-now-indicator-arrow"><\/div>').css("top",f).appendTo(this.el.find(".fc-content-skeleton"))[0]);this.nowIndicatorEls=n(u)},unrenderNowIndicator:function(){this.nowIndicatorEls&&(this.nowIndicatorEls.remove(),this.nowIndicatorEls=null)},renderSelection:function(n){this.view.opt("selectHelper")?this.renderEventLocationHelper(n):this.renderHighlight(n)},unrenderSelection:function(){this.unrenderHelper();this.unrenderHighlight()},renderHighlight:function(n){this.renderHighlightSegs(this.spanToSegs(n))},unrenderHighlight:function(){this.unrenderHighlightSegs()}});vi.mixin({colContainerEls:null,fgContainerEls:null,bgContainerEls:null,helperContainerEls:null,highlightContainerEls:null,businessContainerEls:null,fgSegs:null,bgSegs:null,helperSegs:null,highlightSegs:null,businessSegs:null,renderContentSkeleton:function(){for(var t,r="",i=0;i<this.colCnt;i++)r+='<td><div class="fc-content-col"><div class="fc-event-container fc-helper-container"><\/div><div class="fc-event-container"><\/div><div class="fc-highlight-container"><\/div><div class="fc-bgevent-container"><\/div><div class="fc-business-container"><\/div><\/div><\/td>';t=n('<div class="fc-content-skeleton"><table><tr>'+r+"<\/tr><\/table><\/div>");this.colContainerEls=t.find(".fc-content-col");this.helperContainerEls=t.find(".fc-helper-container");this.fgContainerEls=t.find(".fc-event-container:not(.fc-helper-container)");this.bgContainerEls=t.find(".fc-bgevent-container");this.highlightContainerEls=t.find(".fc-highlight-container");this.businessContainerEls=t.find(".fc-business-container");this.bookendCells(t.find("tr"));this.el.append(t)},renderFgSegs:function(n){return n=this.renderFgSegsIntoContainers(n,this.fgContainerEls),this.fgSegs=n,n},unrenderFgSegs:function(){this.unrenderNamedSegs("fgSegs")},renderHelperSegs:function(t,i){var u,f,r,e=[];for(t=this.renderFgSegsIntoContainers(t,this.helperContainerEls),u=0;u<t.length;u++)f=t[u],i&&i.col===f.col&&(r=i.el,f.el.css({left:r.css("left"),right:r.css("right"),"margin-left":r.css("margin-left"),"margin-right":r.css("margin-right")})),e.push(f.el[0]);return this.helperSegs=t,n(e)},unrenderHelperSegs:function(){this.unrenderNamedSegs("helperSegs")},renderBgSegs:function(n){return n=this.renderFillSegEls("bgEvent",n),this.updateSegVerticals(n),this.attachSegsByCol(this.groupSegsByCol(n),this.bgContainerEls),this.bgSegs=n,n},unrenderBgSegs:function(){this.unrenderNamedSegs("bgSegs")},renderHighlightSegs:function(n){n=this.renderFillSegEls("highlight",n);this.updateSegVerticals(n);this.attachSegsByCol(this.groupSegsByCol(n),this.highlightContainerEls);this.highlightSegs=n},unrenderHighlightSegs:function(){this.unrenderNamedSegs("highlightSegs")},renderBusinessSegs:function(n){n=this.renderFillSegEls("businessHours",n);this.updateSegVerticals(n);this.attachSegsByCol(this.groupSegsByCol(n),this.businessContainerEls);this.businessSegs=n},unrenderBusinessSegs:function(){this.unrenderNamedSegs("businessSegs")},groupSegsByCol:function(n){for(var i=[],t=0;t<this.colCnt;t++)i.push([]);for(t=0;t<n.length;t++)i[n[t].col].push(n[t]);return i},attachSegsByCol:function(n,t){for(var u,r,i=0;i<this.colCnt;i++)for(u=n[i],r=0;r<u.length;r++)t.eq(i).append(u[r].el)},unrenderNamedSegs:function(n){var t,i=this[n];if(i){for(t=0;t<i.length;t++)i[t].el.remove();this[n]=null}},renderFgSegsIntoContainers:function(n,t){var r,i;for(n=this.renderFgSegEls(n),r=this.groupSegsByCol(n),i=0;i<this.colCnt;i++)this.updateFgSegCoords(r[i]);return this.attachSegsByCol(r,t),n},fgSegHtml:function(n,t){var u,e,o,f=this.view,i=n.event,l=f.isEventDraggable(i),a=!t&&n.isStart&&f.isEventResizableFromStart(i),s=!t&&n.isEnd&&f.isEventResizableFromEnd(i),h=this.getSegClasses(n,l,a||s),c=ht(this.getSegSkinCss(n));return h.unshift("fc-time-grid-event","fc-v-event"),f.isMultiDayEvent(i)?(n.isStart||n.isEnd)&&(u=this.getEventTimeText(n),e=this.getEventTimeText(n,"LT"),o=this.getEventTimeText(n,null,!1)):(u=this.getEventTimeText(i),e=this.getEventTimeText(i,"LT"),o=this.getEventTimeText(i,null,!1)),'<a class="'+h.join(" ")+'"'+(i.url?' href="'+r(i.url)+'"':"")+(c?' style="'+c+'"':"")+'><div class="fc-content">'+(u?'<div class="fc-time" data-start="'+r(o)+'" data-full="'+r(e)+'"><span>'+r(u)+"<\/span><\/div>":"")+(i.title?'<div class="fc-title">'+r(i.title)+"<\/div>":"")+'<\/div><div class="fc-bg"/>'+(s?'<div class="fc-resizer fc-end-resizer" />':"")+"<\/a>"},updateSegVerticals:function(n){this.computeSegVerticals(n);this.assignSegVerticals(n)},computeSegVerticals:function(n){for(var t,i=0;i<n.length;i++)t=n[i],t.top=this.computeDateTop(t.start,t.start),t.bottom=this.computeDateTop(t.end,t.start)},assignSegVerticals:function(n){for(var i,t=0;t<n.length;t++)i=n[t],i.el.css(this.generateSegVerticalCss(i))},generateSegVerticalCss:function(n){return{top:n.top,bottom:-n.bottom}},updateFgSegCoords:function(n){this.computeSegVerticals(n);this.computeFgSegHorizontals(n);this.assignSegVerticals(n);this.assignFgSegHorizontals(n)},computeFgSegHorizontals:function(n){var r,i,t;if(this.sortEventSegs(n),r=ne(n),te(r),i=r[0]){for(t=0;t<i.length;t++)ru(i[t]);for(t=0;t<i.length;t++)this.computeFgSegForwardBack(i[t],0,0)}},computeFgSegForwardBack:function(n,t,i){var u,r=n.forwardSegs;if(void 0===n.forwardCoord)for(r.length?(this.sortForwardSegs(r),this.computeFgSegForwardBack(r[0],t+1,i),n.forwardCoord=r[0].backwardCoord):n.forwardCoord=1,n.backwardCoord=n.forwardCoord-(n.forwardCoord-i)/(t+1),u=0;u<r.length;u++)this.computeFgSegForwardBack(r[u],0,n.forwardCoord)},sortForwardSegs:function(n){n.sort(d(this,"compareForwardSegs"))},compareForwardSegs:function(n,t){return t.forwardPressure-n.forwardPressure||(n.backwardCoord||0)-(t.backwardCoord||0)||this.compareEventSegs(n,t)},assignFgSegHorizontals:function(n){for(var t,i=0;i<n.length;i++)t=n[i],t.el.css(this.generateFgSegHorizontalCss(t)),t.bottom-t.top<30&&t.el.addClass("fc-short")},generateFgSegHorizontalCss:function(n){var u,f,e=this.view.opt("slotEventOverlap"),i=n.backwardCoord,r=n.forwardCoord,t=this.generateSegVerticalCss(n);return e&&(r=Math.min(1,i+2*(r-i))),this.isRTL?(u=1-r,f=i):(u=i,f=1-r),t.zIndex=n.level+1,t.left=100*u+"%",t.right=100*f+"%",e&&n.forwardPressure&&(t[this.isRTL?"marginLeft":"marginRight"]=20),t}});var w=i.View=s.extend(su,tt,{type:null,name:null,title:null,calendar:null,options:null,el:null,displaying:null,isSkeletonRendered:!1,isEventsRendered:!1,start:null,end:null,intervalStart:null,intervalEnd:null,intervalDuration:null,intervalUnit:null,isRTL:!1,isSelected:!1,selectedEvent:null,eventOrderSpecs:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,nextDayThreshold:null,isHiddenDayHash:null,isNowIndicatorRendered:null,initialNowDate:null,initialNowQueriedMs:null,nowIndicatorTimeoutID:null,nowIndicatorIntervalID:null,constructor:function(n,i,r,u){this.calendar=n;this.type=this.name=i;this.options=r;this.intervalDuration=u||t.duration(1,"day");this.nextDayThreshold=t.duration(this.opt("nextDayThreshold"));this.initThemingProps();this.initHiddenDays();this.isRTL=this.opt("isRTL");this.eventOrderSpecs=fr(this.opt("eventOrder"));this.initialize()},initialize:function(){},opt:function(n){return this.options[n]},trigger:function(n,t){var i=this.calendar;return i.trigger.apply(i,[n,t||this].concat(Array.prototype.slice.call(arguments,2),[this]))},setDate:function(n){this.setRange(this.computeRange(n))},setRange:function(t){n.extend(this,t);this.updateTitle()},computeRange:function(n){var r,u,f=gt(this.intervalDuration),t=n.clone().startOf(f),i=t.clone().add(this.intervalDuration);return/year|month|week|day/.test(f)?(t.stripTime(),i.stripTime()):(t.hasTime()||(t=this.calendar.time(0)),i.hasTime()||(i=this.calendar.time(0))),r=t.clone(),r=this.skipHiddenDays(r),u=i.clone(),u=this.skipHiddenDays(u,-1,!0),{intervalUnit:f,intervalStart:t,intervalEnd:i,start:r,end:u}},computePrevDate:function(n){return this.massageCurrentDate(n.clone().startOf(this.intervalUnit).subtract(this.intervalDuration),-1)},computeNextDate:function(n){return this.massageCurrentDate(n.clone().startOf(this.intervalUnit).add(this.intervalDuration))},massageCurrentDate:function(n,t){return this.intervalDuration.as("days")<=1&&this.isHiddenDay(n)&&(n=this.skipHiddenDays(n,t),n.startOf("day")),n},updateTitle:function(){this.title=this.computeTitle()},computeTitle:function(){return this.formatRange({start:this.calendar.applyTimezone(this.intervalStart),end:this.calendar.applyTimezone(this.intervalEnd)},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},computeTitleFormat:function(){return"year"==this.intervalUnit?"YYYY":"month"==this.intervalUnit?this.opt("monthYearFormat"):this.intervalDuration.as("days")>1?"ll":"LL"},formatRange:function(n,t,i){var r=n.end;return r.hasTime()||(r=r.clone().subtract(1)),pr(n.start,r,t,i,this.opt("isRTL"))},getAllDayHtml:function(){return this.opt("allDayHtml")||r(this.opt("allDayText"))},buildGotoAnchorHtml:function(t,u,f){var e,o,s,h;return n.isPlainObject(t)?(e=t.date,o=t.type,s=t.forceOff):e=t,e=i.moment(e),h={date:e.format("YYYY-MM-DD"),type:o||"day"},"string"==typeof u&&(f=u,u=null),u=u?" "+cf(u):"",f=f||"",!s&&this.opt("navLinks")?"<a"+u+' data-goto="'+r(JSON.stringify(h))+'">'+f+"<\/a>":"<span"+u+">"+f+"<\/span>"},setElement:function(n){this.el=n;this.bindGlobalHandlers()},removeElement:function(){this.clear();this.isSkeletonRendered&&(this.unrenderSkeleton(),this.isSkeletonRendered=!1);this.unbindGlobalHandlers();this.el.remove()},display:function(n,t){var i=this,r=null;return null!=t&&this.displaying&&(r=this.queryScroll()),this.calendar.freezeContentHeight(),ui(this.clear(),function(){return i.displaying=ui(i.displayView(n),function(){null!=t?i.setScroll(t):i.forceScroll(i.computeInitialScroll(r));i.calendar.unfreezeContentHeight();i.triggerRender()})})},clear:function(){var t=this,i=this.displaying;return i?ui(i,function(){return t.displaying=null,t.clearEvents(),t.clearView()}):n.when()},displayView:function(n){this.isSkeletonRendered||(this.renderSkeleton(),this.isSkeletonRendered=!0);n&&this.setDate(n);this.render&&this.render();this.renderDates();this.updateSize();this.renderBusinessHours();this.startNowIndicator()},clearView:function(){this.unselect();this.stopNowIndicator();this.triggerUnrender();this.unrenderBusinessHours();this.unrenderDates();this.destroy&&this.destroy()},renderSkeleton:function(){},unrenderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},triggerRender:function(){this.trigger("viewRender",this,this,this.el)},triggerUnrender:function(){this.trigger("viewDestroy",this,this,this.el)},bindGlobalHandlers:function(){this.listenTo(n(document),"mousedown",this.handleDocumentMousedown);this.listenTo(n(document),"touchstart",this.processUnselect)},unbindGlobalHandlers:function(){this.stopListeningTo(n(document))},initThemingProps:function(){var n=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=n+"-widget-header";this.widgetContentClass=n+"-widget-content";this.highlightStateClass=n+"-state-highlight"},renderBusinessHours:function(){},unrenderBusinessHours:function(){},startNowIndicator:function(){var i,r,n,u=this;this.opt("nowIndicator")&&(i=this.getNowIndicatorUnit(),i&&(r=d(this,"updateNowIndicator"),this.initialNowDate=this.calendar.getNow(),this.initialNowQueriedMs=+new Date,this.renderNowIndicator(this.initialNowDate),this.isNowIndicatorRendered=!0,n=this.initialNowDate.clone().startOf(i).add(1,i)-this.initialNowDate,this.nowIndicatorTimeoutID=setTimeout(function(){u.nowIndicatorTimeoutID=null;r();n=+t.duration(1,i);n=Math.max(100,n);u.nowIndicatorIntervalID=setInterval(r,n)},n)))},updateNowIndicator:function(){this.isNowIndicatorRendered&&(this.unrenderNowIndicator(),this.renderNowIndicator(this.initialNowDate.clone().add(new Date-this.initialNowQueriedMs)))},stopNowIndicator:function(){this.isNowIndicatorRendered&&(this.nowIndicatorTimeoutID&&(clearTimeout(this.nowIndicatorTimeoutID),this.nowIndicatorTimeoutID=null),this.nowIndicatorIntervalID&&(clearTimeout(this.nowIndicatorIntervalID),this.nowIndicatorIntervalID=null),this.unrenderNowIndicator(),this.isNowIndicatorRendered=!1)},getNowIndicatorUnit:function(){},renderNowIndicator:function(){},unrenderNowIndicator:function(){},updateSize:function(n){var t;n&&(t=this.queryScroll());this.updateHeight(n);this.updateWidth(n);this.updateNowIndicator();n&&this.setScroll(t)},updateWidth:function(){},updateHeight:function(){var n=this.calendar;this.setHeight(n.getSuggestedViewHeight(),n.isHeightAuto())},setHeight:function(){},computeInitialScroll:function(){return 0},queryScroll:function(){},setScroll:function(){},forceScroll:function(n){var t=this;this.setScroll(n);setTimeout(function(){t.setScroll(n)},0)},displayEvents:function(n){var t=this.queryScroll();this.clearEvents();this.renderEvents(n);this.isEventsRendered=!0;this.setScroll(t);this.triggerEventRender()},clearEvents:function(){var n;this.isEventsRendered&&(n=this.queryScroll(),this.triggerEventUnrender(),this.destroyEvents&&this.destroyEvents(),this.unrenderEvents(),this.setScroll(n),this.isEventsRendered=!1)},renderEvents:function(){},unrenderEvents:function(){},triggerEventRender:function(){this.renderedEventSegEach(function(n){this.trigger("eventAfterRender",n.event,n.event,n.el)});this.trigger("eventAfterAllRender")},triggerEventUnrender:function(){this.renderedEventSegEach(function(n){this.trigger("eventDestroy",n.event,n.event,n.el)})},resolveEventEl:function(t,i){var r=this.trigger("eventRender",t,t,i);return r===!1?i=null:r&&r!==!0&&(i=n(r)),i},showEvent:function(n){this.renderedEventSegEach(function(n){n.el.css("visibility","")},n)},hideEvent:function(n){this.renderedEventSegEach(function(n){n.el.css("visibility","hidden")},n)},renderedEventSegEach:function(n,t){for(var r=this.getEventSegs(),i=0;i<r.length;i++)t&&r[i].event._id!==t._id||r[i].el&&n.call(this,r[i])},getEventSegs:function(){return[]},isEventDraggable:function(n){return this.isEventStartEditable(n)},isEventStartEditable:function(n){return f(n.startEditable,(n.source||{}).startEditable,this.opt("eventStartEditable"),this.isEventGenerallyEditable(n))},isEventGenerallyEditable:function(n){return f(n.editable,(n.source||{}).editable,this.opt("editable"))},reportEventDrop:function(n,t,i,r,u){var f=this.calendar,e=f.mutateEvent(n,t,i),o=function(){e.undo();f.reportEventChange()};this.triggerEventDrop(n,e.dateDelta,o,r,u);f.reportEventChange()},triggerEventDrop:function(n,t,i,r,u){this.trigger("eventDrop",r[0],n,t,i,u,{})},reportExternalDrop:function(t,i,r,u,f){var e,o,s=t.eventProps;s&&(e=n.extend({},s,i),o=this.calendar.renderEvent(e,t.stick)[0]);this.triggerExternalDrop(o,i,r,u,f)},triggerExternalDrop:function(n,t,i,r,u){this.trigger("drop",i[0],t.start,r,u);n&&this.trigger("eventReceive",null,n)},renderDrag:function(){},unrenderDrag:function(){},isEventResizableFromStart:function(n){return this.opt("eventResizableFromStart")&&this.isEventResizable(n)},isEventResizableFromEnd:function(n){return this.isEventResizable(n)},isEventResizable:function(n){var t=n.source||{};return f(n.durationEditable,t.durationEditable,this.opt("eventDurationEditable"),n.editable,t.editable,this.opt("editable"))},reportEventResize:function(n,t,i,r,u){var f=this.calendar,e=f.mutateEvent(n,t,i),o=function(){e.undo();f.reportEventChange()};this.triggerEventResize(n,e.durationDelta,o,r,u);f.reportEventChange()},triggerEventResize:function(n,t,i,r,u){this.trigger("eventResize",r[0],n,t,i,u,{})},select:function(n,t){this.unselect(t);this.renderSelection(n);this.reportSelection(n,t)},renderSelection:function(){},reportSelection:function(n,t){this.isSelected=!0;this.triggerSelect(n,t)},triggerSelect:function(n,t){this.trigger("select",null,this.calendar.applyTimezone(n.start),this.calendar.applyTimezone(n.end),t)},unselect:function(n){this.isSelected&&(this.isSelected=!1,this.destroySelection&&this.destroySelection(),this.unrenderSelection(),this.trigger("unselect",null,n))},unrenderSelection:function(){},selectEvent:function(n){this.selectedEvent&&this.selectedEvent===n||(this.unselectEvent(),this.renderedEventSegEach(function(n){n.el.addClass("fc-selected")},n),this.selectedEvent=n)},unselectEvent:function(){this.selectedEvent&&(this.renderedEventSegEach(function(n){n.el.removeClass("fc-selected")},this.selectedEvent),this.selectedEvent=null)},isEventSelected:function(n){return this.selectedEvent&&this.selectedEvent._id===n._id},handleDocumentMousedown:function(n){ir(n)&&this.processUnselect(n)},processUnselect:function(n){this.processRangeUnselect(n);this.processEventUnselect(n)},processRangeUnselect:function(t){var i;this.isSelected&&this.opt("unselectAuto")&&(i=this.opt("unselectCancel"),i&&n(t.target).closest(i).length||this.unselect(t))},processEventUnselect:function(t){this.selectedEvent&&(n(t.target).closest(".fc-selected").length||this.unselectEvent())},triggerDayClick:function(n,t,i){this.trigger("dayClick",t,this.calendar.applyTimezone(n.start),i)},initHiddenDays:function(){var t,i=this.opt("hiddenDays")||[],r=[],u=0;for(this.opt("weekends")===!1&&i.push(0,6),t=0;t<7;t++)(r[t]=n.inArray(t,i)!==-1)||u++;if(!u)throw"invalid hiddenDays";this.isHiddenDayHash=r},isHiddenDay:function(n){return t.isMoment(n)&&(n=n.day()),this.isHiddenDayHash[n]},skipHiddenDays:function(n,t,i){var r=n.clone();for(t=t||1;this.isHiddenDayHash[(r.day()+(i?t:0)+7)%7];)r.add(t,"days");return r},computeDayRange:function(n){var r,u=n.start.clone().stripTime(),i=n.end,t=null;return i&&(t=i.clone().stripTime(),r=+i.time(),r&&r>=this.nextDayThreshold&&t.add(1,"days")),(!i||t<=u)&&(t=u.clone().add(1,"days")),{start:u,end:t}},isMultiDayEvent:function(n){var t=this.computeDayRange(n);return t.end.diff(t.start,"days")>1}}),yi=i.Scroller=s.extend({el:null,scrollEl:null,overflowX:null,overflowY:null,constructor:function(n){n=n||{};this.overflowX=n.overflowX||n.overflow||"auto";this.overflowY=n.overflowY||n.overflow||"auto"},render:function(){this.el=this.renderEl();this.applyOverflow()},renderEl:function(){return this.scrollEl=n('<div class="fc-scroller"><\/div>')},clear:function(){this.setHeight("auto");this.applyOverflow()},destroy:function(){this.el.remove()},applyOverflow:function(){this.scrollEl.css({"overflow-x":this.overflowX,"overflow-y":this.overflowY})},lockOverflow:function(n){var t=this.overflowX,i=this.overflowY;n=n||this.getScrollbarWidths();"auto"===t&&(t=n.top||n.bottom||this.scrollEl[0].scrollWidth-1>this.scrollEl[0].clientWidth?"scroll":"hidden");"auto"===i&&(i=n.left||n.right||this.scrollEl[0].scrollHeight-1>this.scrollEl[0].clientHeight?"scroll":"hidden");this.scrollEl.css({"overflow-x":t,"overflow-y":i})},setHeight:function(n){this.scrollEl.height(n)},getScrollTop:function(){return this.scrollEl.scrollTop()},setScrollTop:function(n){this.scrollEl.scrollTop(n)},getClientWidth:function(){return this.scrollEl[0].clientWidth},getClientHeight:function(){return this.scrollEl[0].clientHeight},getScrollbarWidths:function(){return dt(this.scrollEl)}}),u=i.Calendar=s.extend({dirDefaults:null,localeDefaults:null,overrides:null,dynamicOverrides:null,options:null,viewSpecCache:null,view:null,header:null,loadingLevel:0,constructor:re,initialize:function(){},populateOptionsHash:function(){var t,n,r,i;t=f(this.dynamicOverrides.locale,this.overrides.locale);n=b[t];n||(t=u.defaults.locale,n=b[t]||{});r=f(this.dynamicOverrides.isRTL,this.overrides.isRTL,n.isRTL,u.defaults.isRTL);i=r?u.rtlDefaults:{};this.dirDefaults=i;this.localeDefaults=n;this.options=nt([u.defaults,i,n,this.overrides,this.dynamicOverrides]);fu(this.options)},getViewSpec:function(n){var t=this.viewSpecCache;return t[n]||(t[n]=this.buildViewSpec(n))},getUnitViewSpec:function(t){var r,u,f;if(n.inArray(t,vt)!=-1)for(r=this.header.getViewsWithButtons(),n.each(i.views,function(n){r.push(n)}),u=0;u<r.length;u++)if(f=this.getViewSpec(r[u]),f&&f.singleUnit==t)return f},buildViewSpec:function(n){for(var i,f,r,o,h=this.overrides.views||{},c=[],l=[],s=[],u=n;u;)i=e[u],f=h[u],u=null,"function"==typeof i&&(i={"class":i}),i&&(c.unshift(i),l.unshift(i.defaults||{}),r=r||i.duration,u=u||i.type),f&&(s.unshift(f),r=r||f.duration,u=u||f.type);return i=ti(c),i.type=n,!!i.class&&(r&&(r=t.duration(r),r.valueOf()&&(i.duration=r,o=gt(r),1===r.as(o)&&(i.singleUnit=o,s.unshift(h[o]||{})))),i.defaults=nt(l),i.overrides=nt(s),this.buildViewSpecOptions(i),this.buildViewSpecButtonText(i,n),i)},buildViewSpecOptions:function(n){n.options=nt([u.defaults,n.defaults,this.dirDefaults,this.localeDefaults,this.overrides,n.overrides,this.dynamicOverrides]);fu(n.options)},buildViewSpecButtonText:function(n,t){function i(i){var r=i.buttonText||{};return r[t]||(n.buttonTextKey?r[n.buttonTextKey]:null)||(n.singleUnit?r[n.singleUnit]:null)}n.buttonTextOverride=i(this.dynamicOverrides)||i(this.overrides)||n.overrides.buttonText;n.buttonTextDefault=i(this.localeDefaults)||i(this.dirDefaults)||n.defaults.buttonText||i(u.defaults)||(n.duration?this.humanizeDuration(n.duration):null)||t},instantiateView:function(n){var t=this.getViewSpec(n);return new t.class(this,n,t.options,t.duration)},isValidViewType:function(n){return Boolean(this.getViewSpec(n))},pushLoading:function(){this.loadingLevel++||this.trigger("loading",null,!0,this.view)},popLoading:function(){--this.loadingLevel||this.trigger("loading",null,!1,this.view)},buildSelectSpan:function(n,t){var r,i=this.moment(n).stripZone();return r=t?this.moment(t).stripZone():i.hasTime()?i.clone().add(this.defaultTimedEventDuration):i.clone().add(this.defaultAllDayEventDuration),{start:i,end:r}}});u.mixin(su);u.mixin({optionHandlers:null,bindOption:function(n,t){this.bindOptions([n],t)},bindOptions:function(n,t){for(var r={func:t,names:n},i=0;i<n.length;i++)this.registerOptionHandlerObj(n[i],r);this.triggerOptionHandlerObj(r)},registerOptionHandlerObj:function(n,t){(this.optionHandlers[n]||(this.optionHandlers[n]=[])).push(t)},triggerOptionHandlers:function(n){for(var i=this.optionHandlers[n]||[],t=0;t<i.length;t++)this.triggerOptionHandlerObj(i[t])},triggerOptionHandlerObj:function(n){for(var i=n.names,r=[],t=0;t<i.length;t++)r.push(this.options[i[t]]);n.func.apply(this,r)}});u.defaults={titleRangeSeparator:"  ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",scrollTime:"06:00:00",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,isRTL:!1,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},allDayText:"all-day",theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventOrder:"title",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3};u.englishDefaults={dayPopoverFormat:"dddd, MMMM D"};u.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};b=i.locales={};i.datepickerLocale=function(t,i,r){var u=b[t]||(b[t]={});u.isRTL=r.isRTL;u.weekNumberTitle=r.weekHeader;n.each(ve,function(n,t){u[n]=t(r)});n.datepicker&&(n.datepicker.regional[i]=n.datepicker.regional[t]=r,n.datepicker.regional.en=n.datepicker.regional[""],n.datepicker.setDefaults(r))};i.locale=function(t,i){var r,f;r=b[t]||(b[t]={});i&&(r=b[t]=nt([r,i]));f=eu(t);n.each(ye,function(n,t){null==r[n]&&(r[n]=t(f,r))});u.defaults.locale=t};var ve={buttonText:function(n){return{prev:ri(n.prevText),next:ri(n.nextText),today:ri(n.currentText)}},monthYearFormat:function(n){return n.showMonthAfterYear?"YYYY["+n.yearSuffix+"] MMMM":"MMMM YYYY["+n.yearSuffix+"]"}},ye={dayOfMonthFormat:function(n,t){var i=n.longDateFormat("l");return i=i.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),t.isRTL?i+=" ddd":i="ddd "+i,i},mediumTimeFormat:function(n){return n.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function(n){return n.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(n){return n.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function(n){return n.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(n){return n.longDateFormat("LT").replace(/\s*a$/i,"")}},pe={smallDayDateFormat:function(n){return n.isRTL?"D dd":"dd D"},weekFormat:function(n){return n.isRTL?"w[ "+n.weekNumberTitle+"]":"["+n.weekNumberTitle+" ]w"},smallWeekFormat:function(n){return n.isRTL?"w["+n.weekNumberTitle+"]":"["+n.weekNumberTitle+"]w"}};i.locale("en",u.englishDefaults);i.sourceNormalizers=[];i.sourceFetchers=[];cu={dataType:"json",cache:!1};lu=1;u.prototype.normalizeEvent=function(){};u.prototype.spanContainsSpan=function(n,t){var i=n.start.clone().stripZone(),r=this.getEventEnd(n).stripZone();return t.start>=i&&t.end<=r};u.prototype.getPeerEvents=function(n,t){for(var r,u=this.getEventCache(),f=[],i=0;i<u.length;i++)r=u[i],t&&t._id===r._id||f.push(r);return f};u.prototype.isEventSpanAllowed=function(n,t){var i=t.source||{},r=f(t.constraint,i.constraint,this.options.eventConstraint),u=f(t.overlap,i.overlap,this.options.eventOverlap);return this.isSpanAllowed(n,r,u,t)&&(!this.options.eventAllow||this.options.eventAllow(n,t)!==!1)};u.prototype.isExternalSpanAllowed=function(t,i,r){var f,u;return r&&(f=n.extend({},r,i),u=this.expandEvent(this.buildEventFromInput(f))[0]),u?this.isEventSpanAllowed(t,u):this.isSelectionSpanAllowed(t)};u.prototype.isSelectionSpanAllowed=function(n){return this.isSpanAllowed(n,this.options.selectConstraint,this.options.selectOverlap)&&(!this.options.selectAllow||this.options.selectAllow(n)!==!1)};u.prototype.isSpanAllowed=function(n,t,i,r){var s,h,c,u,e,o;if(null!=t&&(s=this.constraintToEvents(t))){for(h=!1,u=0;u<s.length;u++)if(this.spanContainsSpan(s[u],n)){h=!0;break}if(!h)return!1}for(c=this.getPeerEvents(n,r),u=0;u<c.length;u++)if((e=c[u],this.eventIntersectsRange(e,n))&&(i===!1||"function"==typeof i&&!i(e,r)||r&&((o=f(e.overlap,(e.source||{}).overlap),o===!1)||"function"==typeof o&&!o(r,e))))return!1;return!0};u.prototype.constraintToEvents=function(n){return"businessHours"===n?this.getCurrentBusinessHourEvents():"object"==typeof n?null!=n.start?this.expandEvent(this.buildEventFromInput(n)):null:this.clientEvents(n)};u.prototype.eventIntersectsRange=function(n,t){var i=n.start.clone().stripZone(),r=this.getEventEnd(n).stripZone();return t.start<r&&t.end>i};pi={id:"_fcBusinessHours",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"};u.prototype.getCurrentBusinessHourEvents=function(n){return this.computeBusinessHourEvents(n,this.options.businessHours)};u.prototype.computeBusinessHourEvents=function(t,i){return i===!0?this.expandBusinessHourEvents(t,[{}]):n.isPlainObject(i)?this.expandBusinessHourEvents(t,[i]):n.isArray(i)?this.expandBusinessHourEvents(t,i,!0):[]};u.prototype.expandBusinessHourEvents=function(t,i,r){for(var u,o=this.getView(),e=[],f=0;f<i.length;f++)u=i[f],r&&!u.dow||(u=n.extend({},pi,u),t&&(u.start=null,u.end=null),e.push.apply(e,this.expandEvent(this.buildEventFromInput(u),o.start,o.end)));return e};var wi=i.BasicView=w.extend({scroller:null,dayGridClass:it,dayGrid:null,dayNumbersVisible:!1,colWeekNumbersVisible:!1,cellWeekNumbersVisible:!1,weekNumberWidth:null,headContainerEl:null,headRowEl:null,initialize:function(){this.dayGrid=this.instantiateDayGrid();this.scroller=new yi({overflowX:"hidden",overflowY:"auto"})},instantiateDayGrid:function(){var n=this.dayGridClass.extend(we);return new n(this)},setRange:function(n){w.prototype.setRange.call(this,n);this.dayGrid.breakOnWeeks=/year|month|week/.test(this.intervalUnit);this.dayGrid.setRange(n)},computeRange:function(n){var t=w.prototype.computeRange.call(this,n);return/year|month/.test(t.intervalUnit)&&(t.start.startOf("week"),t.start=this.skipHiddenDays(t.start),t.end.weekday()&&(t.end.add(1,"week").startOf("week"),t.end=this.skipHiddenDays(t.end,-1,!0))),t},renderDates:function(){this.dayNumbersVisible=this.dayGrid.rowCnt>1;this.opt("weekNumbers")&&(this.opt("weekNumbersWithinDays")?(this.cellWeekNumbersVisible=!0,this.colWeekNumbersVisible=!1):(this.cellWeekNumbersVisible=!1,this.colWeekNumbersVisible=!0));this.dayGrid.numbersVisible=this.dayNumbersVisible||this.cellWeekNumbersVisible||this.colWeekNumbersVisible;this.el.addClass("fc-basic-view").html(this.renderSkeletonHtml());this.renderHead();this.scroller.render();var t=this.scroller.el.addClass("fc-day-grid-container"),i=n('<div class="fc-day-grid" />').appendTo(t);this.el.find(".fc-body > tr > td").append(t);this.dayGrid.setElement(i);this.dayGrid.renderDates(this.hasRigidRows())},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.dayGrid.renderHeadHtml());this.headRowEl=this.headContainerEl.find(".fc-row")},unrenderDates:function(){this.dayGrid.unrenderDates();this.dayGrid.removeElement();this.scroller.destroy()},renderBusinessHours:function(){this.dayGrid.renderBusinessHours()},unrenderBusinessHours:function(){this.dayGrid.unrenderBusinessHours()},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"><\/td><\/tr><\/thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'"><\/td><\/tr><\/tbody><\/table>'},weekNumberStyleAttr:function(){return null!==this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},hasRigidRows:function(){var n=this.opt("eventLimit");return n&&"number"!=typeof n},updateWidth:function(){this.colWeekNumbersVisible&&(this.weekNumberWidth=nr(this.el.find(".fc-week-number")))},setHeight:function(n,t){var r,u,i=this.opt("eventLimit");this.scroller.clear();ki(this.headRowEl);this.dayGrid.removeSegPopover();i&&"number"==typeof i&&this.dayGrid.limitRows(i);r=this.computeScrollerHeight(n);this.setGridHeight(r,t);i&&"number"!=typeof i&&this.dayGrid.limitRows(i);t||(this.scroller.setHeight(r),u=this.scroller.getScrollbarWidths(),(u.left||u.right)&&(bi(this.headRowEl,u),r=this.computeScrollerHeight(n),this.scroller.setHeight(r)),this.scroller.lockOverflow(u))},computeScrollerHeight:function(n){return n-wt(this.el,this.scroller.el)},setGridHeight:function(n,t){t?gi(this.dayGrid.rowEls):di(this.dayGrid.rowEls,n,!0)},queryScroll:function(){return this.scroller.getScrollTop()},setScroll:function(n){this.scroller.setScrollTop(n)},prepareHits:function(){this.dayGrid.prepareHits()},releaseHits:function(){this.dayGrid.releaseHits()},queryHit:function(n,t){return this.dayGrid.queryHit(n,t)},getHitSpan:function(n){return this.dayGrid.getHitSpan(n)},getHitEl:function(n){return this.dayGrid.getHitEl(n)},renderEvents:function(n){this.dayGrid.renderEvents(n);this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},unrenderEvents:function(){this.dayGrid.unrenderEvents()},renderDrag:function(n,t){return this.dayGrid.renderDrag(n,t)},unrenderDrag:function(){this.dayGrid.unrenderDrag()},renderSelection:function(n){this.dayGrid.renderSelection(n)},unrenderSelection:function(){this.dayGrid.unrenderSelection()}}),we={renderHeadIntroHtml:function(){var n=this.view;return n.colWeekNumbersVisible?'<th class="fc-week-number '+n.widgetHeaderClass+'" '+n.weekNumberStyleAttr()+"><span>"+r(n.opt("weekNumberTitle"))+"<\/span><\/th>":""},renderNumberIntroHtml:function(n){var t=this.view,i=this.getCellDate(n,0);return t.colWeekNumbersVisible?'<td class="fc-week-number" '+t.weekNumberStyleAttr()+">"+t.buildGotoAnchorHtml({date:i,type:"week",forceOff:1===this.colCnt},i.format("w"))+"<\/td>":""},renderBgIntroHtml:function(){var n=this.view;return n.colWeekNumbersVisible?'<td class="fc-week-number '+n.widgetContentClass+'" '+n.weekNumberStyleAttr()+"><\/td>":""},renderIntroHtml:function(){var n=this.view;return n.colWeekNumbersVisible?'<td class="fc-week-number" '+n.weekNumberStyleAttr()+"><\/td>":""}},be=i.MonthView=wi.extend({computeRange:function(n){var i,t=wi.prototype.computeRange.call(this,n);return this.isFixedWeeks()&&(i=Math.ceil(t.end.diff(t.start,"weeks",!0)),t.end.add(6-i,"weeks")),t},setGridHeight:function(n,t){t&&(n*=this.rowCnt/6);di(this.dayGrid.rowEls,n,!t)},isFixedWeeks:function(){return this.opt("fixedWeekCount")}});e.basic={"class":wi};e.basicDay={type:"basic",duration:{days:1}};e.basicWeek={type:"basic",duration:{weeks:1}};e.month={"class":be,duration:{months:1},defaults:{fixedWeekCount:!0}};var ke=i.AgendaView=w.extend({scroller:null,timeGridClass:vi,timeGrid:null,dayGridClass:it,dayGrid:null,axisWidth:null,headContainerEl:null,noScrollRowEls:null,bottomRuleEl:null,initialize:function(){this.timeGrid=this.instantiateTimeGrid();this.opt("allDaySlot")&&(this.dayGrid=this.instantiateDayGrid());this.scroller=new yi({overflowX:"hidden",overflowY:"auto"})},instantiateTimeGrid:function(){var n=this.timeGridClass.extend(de);return new n(this)},instantiateDayGrid:function(){var n=this.dayGridClass.extend(ge);return new n(this)},setRange:function(n){w.prototype.setRange.call(this,n);this.timeGrid.setRange(n);this.dayGrid&&this.dayGrid.setRange(n)},renderDates:function(){this.el.addClass("fc-agenda-view").html(this.renderSkeletonHtml());this.renderHead();this.scroller.render();var t=this.scroller.el.addClass("fc-time-grid-container"),i=n('<div class="fc-time-grid" />').appendTo(t);this.el.find(".fc-body > tr > td").append(t);this.timeGrid.setElement(i);this.timeGrid.renderDates();this.bottomRuleEl=n('<hr class="fc-divider '+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el);this.dayGrid&&(this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight());this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)")},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.timeGrid.renderHeadHtml())},unrenderDates:function(){this.timeGrid.unrenderDates();this.timeGrid.removeElement();this.dayGrid&&(this.dayGrid.unrenderDates(),this.dayGrid.removeElement());this.scroller.destroy()},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"><\/td><\/tr><\/thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="fc-divider '+this.widgetHeaderClass+'"/>':"")+"<\/td><\/tr><\/tbody><\/table>"},axisStyleAttr:function(){return null!==this.axisWidth?'style="width:'+this.axisWidth+'px"':""},renderBusinessHours:function(){this.timeGrid.renderBusinessHours();this.dayGrid&&this.dayGrid.renderBusinessHours()},unrenderBusinessHours:function(){this.timeGrid.unrenderBusinessHours();this.dayGrid&&this.dayGrid.unrenderBusinessHours()},getNowIndicatorUnit:function(){return this.timeGrid.getNowIndicatorUnit()},renderNowIndicator:function(n){this.timeGrid.renderNowIndicator(n)},unrenderNowIndicator:function(){this.timeGrid.unrenderNowIndicator()},updateSize:function(n){this.timeGrid.updateSize(n);w.prototype.updateSize.call(this,n)},updateWidth:function(){this.axisWidth=nr(this.el.find(".fc-axis"))},setHeight:function(n,t){var i,r,u;this.bottomRuleEl.hide();this.scroller.clear();ki(this.noScrollRowEls);this.dayGrid&&(this.dayGrid.removeSegPopover(),i=this.opt("eventLimit"),i&&"number"!=typeof i&&(i=no),i&&this.dayGrid.limitRows(i));t||(r=this.computeScrollerHeight(n),this.scroller.setHeight(r),u=this.scroller.getScrollbarWidths(),(u.left||u.right)&&(bi(this.noScrollRowEls,u),r=this.computeScrollerHeight(n),this.scroller.setHeight(r)),this.scroller.lockOverflow(u),this.timeGrid.getTotalSlatHeight()<r&&this.bottomRuleEl.show())},computeScrollerHeight:function(n){return n-wt(this.el,this.scroller.el)},computeInitialScroll:function(){var i=t.duration(this.opt("scrollTime")),n=this.timeGrid.computeTimeTop(i);return n=Math.ceil(n),n&&n++,n},queryScroll:function(){return this.scroller.getScrollTop()},setScroll:function(n){this.scroller.setScrollTop(n)},prepareHits:function(){this.timeGrid.prepareHits();this.dayGrid&&this.dayGrid.prepareHits()},releaseHits:function(){this.timeGrid.releaseHits();this.dayGrid&&this.dayGrid.releaseHits()},queryHit:function(n,t){var i=this.timeGrid.queryHit(n,t);return!i&&this.dayGrid&&(i=this.dayGrid.queryHit(n,t)),i},getHitSpan:function(n){return n.component.getHitSpan(n)},getHitEl:function(n){return n.component.getHitEl(n)},renderEvents:function(n){for(var u,i=[],r=[],f=[],t=0;t<n.length;t++)n[t].allDay?i.push(n[t]):r.push(n[t]);u=this.timeGrid.renderEvents(r);this.dayGrid&&(f=this.dayGrid.renderEvents(i));this.updateHeight()},getEventSegs:function(){return this.timeGrid.getEventSegs().concat(this.dayGrid?this.dayGrid.getEventSegs():[])},unrenderEvents:function(){this.timeGrid.unrenderEvents();this.dayGrid&&this.dayGrid.unrenderEvents()},renderDrag:function(n,t){return n.start.hasTime()?this.timeGrid.renderDrag(n,t):this.dayGrid?this.dayGrid.renderDrag(n,t):void 0},unrenderDrag:function(){this.timeGrid.unrenderDrag();this.dayGrid&&this.dayGrid.unrenderDrag()},renderSelection:function(n){n.start.hasTime()||n.end.hasTime()?this.timeGrid.renderSelection(n):this.dayGrid&&this.dayGrid.renderSelection(n)},unrenderSelection:function(){this.timeGrid.unrenderSelection();this.dayGrid&&this.dayGrid.unrenderSelection()}}),de={renderHeadIntroHtml:function(){var t,n=this.view;return n.opt("weekNumbers")?(t=this.start.format(n.opt("smallWeekFormat")),'<th class="fc-axis fc-week-number '+n.widgetHeaderClass+'" '+n.axisStyleAttr()+">"+n.buildGotoAnchorHtml({date:this.start,type:"week",forceOff:this.colCnt>1},r(t))+"<\/th>"):'<th class="fc-axis '+n.widgetHeaderClass+'" '+n.axisStyleAttr()+"><\/th>"},renderBgIntroHtml:function(){var n=this.view;return'<td class="fc-axis '+n.widgetContentClass+'" '+n.axisStyleAttr()+"><\/td>"},renderIntroHtml:function(){var n=this.view;return'<td class="fc-axis" '+n.axisStyleAttr()+"><\/td>"}},ge={renderBgIntroHtml:function(){var n=this.view;return'<td class="fc-axis '+n.widgetContentClass+'" '+n.axisStyleAttr()+"><span>"+n.getAllDayHtml()+"<\/span><\/td>"},renderIntroHtml:function(){var n=this.view;return'<td class="fc-axis" '+n.axisStyleAttr()+"><\/td>"}},no=5,au=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];return e.agenda={"class":ke,defaults:{allDaySlot:!0,slotDuration:"00:30:00",minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0}},e.agendaDay={type:"agenda",duration:{days:1}},e.agendaWeek={type:"agenda",duration:{weeks:1}},vu=w.extend({grid:null,scroller:null,initialize:function(){this.grid=new yu(this);this.scroller=new yi({overflowX:"hidden",overflowY:"auto"})},setRange:function(n){w.prototype.setRange.call(this,n);this.grid.setRange(n)},renderSkeleton:function(){this.el.addClass("fc-list-view "+this.widgetContentClass);this.scroller.render();this.scroller.el.appendTo(this.el);this.grid.setElement(this.scroller.scrollEl)},unrenderSkeleton:function(){this.scroller.destroy()},setHeight:function(n){this.scroller.setHeight(this.computeScrollerHeight(n))},computeScrollerHeight:function(n){return n-wt(this.el,this.scroller.el)},renderEvents:function(n){this.grid.renderEvents(n)},unrenderEvents:function(){this.grid.unrenderEvents()},isEventResizable:function(){return!1},isEventDraggable:function(){return!1}}),yu=v.extend({segSelector:".fc-list-item",hasDayInteractions:!1,spanToSegs:function(n){for(var t,r=this.view,i=r.start.clone().time(0),u=0,f=[];i<r.end;)if(t=et(n,{start:i,end:i.clone().add(1,"day")}),t&&(t.dayIndex=u,f.push(t)),i.add(1,"day"),u++,t&&!t.isEnd&&n.end.hasTime()&&n.end<i.clone().add(this.view.nextDayThreshold)){t.end=n.end.clone();t.isEnd=!0;break}return f},computeEventTimeFormat:function(){return this.view.opt("mediumTimeFormat")},handleSegClick:function(t,i){var r;v.prototype.handleSegClick.apply(this,arguments);n(i.target).closest("a[href]").length||(r=t.event.url,r&&!i.isDefaultPrevented()&&(window.location.href=r))},renderFgSegs:function(n){return n=this.renderFgSegEls(n),n.length?this.renderSegList(n):this.renderEmptyMessage(),n},renderEmptyMessage:function(){this.el.html('<div class="fc-list-empty-wrap2"><div class="fc-list-empty-wrap1"><div class="fc-list-empty">'+r(this.view.opt("noEventsMessage"))+"<\/div><\/div><\/div>")},renderSegList:function(t){for(var r,u,f=this.groupSegsByDay(t),e=n('<table class="fc-list-table"><tbody/><\/table>'),o=e.find("tbody"),i=0;i<f.length;i++)if(r=f[i])for(o.append(this.dayHeaderHtml(this.view.start.clone().add(i,"days"))),this.sortEventSegs(r),u=0;u<r.length;u++)o.append(r[u].el);this.el.empty().append(e)},groupSegsByDay:function(n){for(var i,r=[],t=0;t<n.length;t++)i=n[t],(r[i.dayIndex]||(r[i.dayIndex]=[])).push(i);return r},dayHeaderHtml:function(n){var t=this.view,i=t.opt("listDayFormat"),u=t.opt("listDayAltFormat");return'<tr class="fc-list-heading" data-date="'+n.format("YYYY-MM-DD")+'"><td class="'+t.widgetHeaderClass+'" colspan="3">'+(i?t.buildGotoAnchorHtml(n,{"class":"fc-list-heading-main"},r(n.format(i))):"")+(u?t.buildGotoAnchorHtml(n,{"class":"fc-list-heading-alt"},r(n.format(u))):"")+"<\/td><\/tr>"},fgSegHtml:function(n){var f,t=this.view,e=["fc-list-item"].concat(this.getSegCustomClasses(n)),o=this.getSegBackgroundColor(n),i=n.event,u=i.url;return f=i.allDay?t.getAllDayHtml():t.isMultiDayEvent(i)?n.isStart||n.isEnd?r(this.getEventTimeText(n)):t.getAllDayHtml():r(this.getEventTimeText(i)),u&&e.push("fc-has-url"),'<tr class="'+e.join(" ")+'">'+(this.displayEventTime?'<td class="fc-list-item-time '+t.widgetContentClass+'">'+(f||"")+"<\/td>":"")+'<td class="fc-list-item-marker '+t.widgetContentClass+'"><span class="fc-event-dot"'+(o?' style="background-color:'+o+'"':"")+'><\/span><\/td><td class="fc-list-item-title '+t.widgetContentClass+'"><a'+(u?' href="'+r(u)+'"':"")+">"+r(n.event.title||"")+"<\/a><\/td><\/tr>"}}),e.list={"class":vu,buttonTextKey:"list",defaults:{buttonText:"list",listDayFormat:"LL",noEventsMessage:"No events to display"}},e.listDay={type:"list",duration:{days:1},defaults:{listDayFormat:"dddd"}},e.listWeek={type:"list",duration:{weeks:1},defaults:{listDayFormat:"dddd",listDayAltFormat:"LL"}},e.listMonth={type:"list",duration:{month:1},defaults:{listDayAltFormat:"dddd"}},e.listYear={type:"list",duration:{year:1},defaults:{listDayAltFormat:"dddd"}},i}),function(n){typeof define=="function"&&define.amd?define(["jquery","moment","datatables.net"],n):n(jQuery,moment)}(function(n,t){function i(n){return typeof n=="string"&&(n=n.replace(/(<.*?>)|(\r?\n|\r)/g,""),n=n.trim()),n}n.fn.dataTable.moment=function(r,u,f){var e=n.fn.dataTable.ext.type;e.detect.unshift(function(n){return(n=i(n),n===""||n===null)?"moment-"+r:t(n,r,u,!0).isValid()?"moment-"+r:null});e.order["moment-"+r+"-pre"]=function(n){return n=i(n),t(n,r,u,!0).isValid()?parseInt(t(n,r,u,!0).format("x"),10):f?-Infinity:Infinity}}});angular.module("ui.calendar",[]).constant("uiCalendarConfig",{calendars:{}}).controller("uiCalendarCtrl",["$scope","$locale",function(n,t){var i=n.eventSources,f=n.calendarWatchEvent?n.calendarWatchEvent:angular.noop,e=function(t){return function(){if(n.$root.$$phase)return t.apply(this,arguments);var i=arguments,r=this;return n.$root.$apply(function(){return t.apply(r,i)})}},o=1,r,u;this.eventFingerprint=function(n){n._id||(n._id=o++);var t=f({event:n})||"",i=moment.isMoment(n.start)?n.start.unix():n.start?moment(n.start).unix():"",r=moment.isMoment(n.end)?n.end.unix():n.end?moment(n.end).unix():"";return""+n._id+(n.id||"")+(n.title||"")+(n.url||"")+i+r+(n.allDay||"")+(n.className||"")+t};r=1;u=1;this.sourceFingerprint=function(n){var t=""+(n.__id||(n.__id=r++)),i=angular.isObject(n)&&n.events;return i&&(t=t+"-"+(i.__id||(i.__id=u++))),t};this.allEvents=function(){for(var n,e,t,r,u=[],f=0,o=i.length;f<o;f++)if(n=i[f],angular.isArray(n))u.push(n);else if(angular.isObject(n)&&angular.isArray(n.events)){e={};for(t in n)t!=="_id"&&t!=="events"&&(e[t]=n[t]);for(r=0;r<n.events.length;r++)angular.extend(n.events[r],e);u.push(n.events)}return Array.prototype.concat.apply([],u)};this.changeWatcher=function(n,t){var i,f=function(){for(var e=angular.isFunction(n)?n():n,o=[],i,u,f=0,s=e.length;f<s;f++)u=e[f],i=t(u),r[i]=u,o.push(i);return o},u=function(n,t){for(var u=[],f={},i=0,r=t.length;i<r;i++)f[t[i]]=!0;for(i=0,r=n.length;i<r;i++)f[n[i]]||u.push(n[i]);return u},r={},e=function(n,f){for(var o,c,v={},y=u(f,n),s,l,a,e=0,h=y.length;e<h;e++)if(s=y[e],o=r[s],delete r[s],l=t(o),l===s)i.onRemoved(o);else{v[l]=s;i.onChanged(o)}for(a=u(n,f),e=0,h=a.length;e<h;e++)if(c=a[e],o=r[c],!v[c])i.onAdded(o)};return i={subscribe:function(n,t){n.$watch(f,function(n,i){var r=!(t&&t(n,i)===!1);r&&e(n,i)},!0)},onAdded:angular.noop,onChanged:angular.noop,onRemoved:angular.noop}};this.getFullCalendarConfig=function(n,t){var i={};return angular.extend(i,t),angular.extend(i,n),angular.forEach(i,function(n,t){typeof n=="function"&&(i[t]=e(i[t]))}),i};this.getLocaleConfig=function(n){if(!n.lang||n.useNgLocale){var i=function(n){var t,i;t=[];for(i in n)t[i]=n[i];return t},r=t.DATETIME_FORMATS;return{monthNames:i(r.MONTH),monthNamesShort:i(r.SHORTMONTH),dayNames:i(r.DAY),dayNamesShort:i(r.SHORTDAY)}}return{}}}]).directive("uiCalendar",["uiCalendarConfig",function(n){return{restrict:"A",scope:{eventSources:"=ngModel",calendarWatchEvent:"&"},controller:"uiCalendarCtrl",link:function(t,i,r,u){function l(){var h=r.uiCalendar?t.$parent.$eval(r.uiCalendar):{},f,o,s,i;f=u.getFullCalendarConfig(h,n);o=u.getLocaleConfig(f);angular.extend(o,f);e={eventSources:c};angular.extend(e,o);e.calendars=null;s={};for(i in e)i!=="eventSources"&&(s[i]=e[i]);return JSON.stringify(s)}var c=t.eventSources,o=!1,f,s=u.changeWatcher(c,u.sourceFingerprint),h=u.changeWatcher(u.allEvents,u.eventFingerprint),e=null;t.destroyCalendar=function(){f&&f.fullCalendar&&f.fullCalendar("destroy");f=r.calendar?n.calendars[r.calendar]=$(i).html(""):$(i).html("")};t.initCalendar=function(){f||(f=angular.element(i).html(""));f.fullCalendar(e);r.calendar&&(n.calendars[r.calendar]=f)};t.$on("$destroy",function(){t.destroyCalendar()});s.onAdded=function(t){f&&f.fullCalendar&&(f.fullCalendar(e),r.calendar&&(n.calendars[r.calendar]=f),f.fullCalendar("addEventSource",t),o=!0)};s.onRemoved=function(n){f&&f.fullCalendar&&(f.fullCalendar("removeEventSource",n),o=!0)};s.onChanged=function(){f&&f.fullCalendar&&(f.fullCalendar("refetchEvents"),o=!0)};h.onAdded=function(n){f&&f.fullCalendar&&f.fullCalendar("renderEvent",n,n.stick?!0:!1)};h.onRemoved=function(n){f&&f.fullCalendar&&f.fullCalendar("removeEvents",n._id)};h.onChanged=function(n){var r,t,i;if(f&&f.fullCalendar)for(r=f.fullCalendar("clientEvents",n._id),t=0;t<r.length;t++)i=r[t],i=angular.extend(i,n),f.fullCalendar("updateEvent",i)};s.subscribe(t);h.subscribe(t,function(){if(o===!0)return o=!1,!1});t.$watch(l,function(n,i){n!==i?(t.destroyCalendar(),t.initCalendar()):n&&angular.isUndefined(f)&&t.initCalendar()})}}}])